/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var c1_area_urbana = /* color: #ff0000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-69.99373763967839, -15.812429788845785]),
            {
              "clase": 1,
              "system:index": "0"
            })]),
    c2_mineria = /* color: #b40b0b */ee.FeatureCollection([]),
    c3_agricultura = /* color: #ffbd08 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-70.02674254616082, -15.781012495495412]),
            {
              "clase": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-77.68739808620954, -7.595112829488631]),
            {
              "clase": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-80.30099210871448, -3.4620301451006834]),
            {
              "clase": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-80.29830989969959, -3.4608521261728824]),
            {
              "clase": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.15354514864107, -5.137651120139052]),
            {
              "clase": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.14331343210455, -5.14361280531313]),
            {
              "clase": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12940886057135, -5.1380989952068665]),
            {
              "clase": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.14211180246588, -5.146305578939428]),
            {
              "clase": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1541280988526, -5.148357208338165]),
            {
              "clase": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16022207773443, -5.1501096365415675]),
            {
              "clase": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16219618356939, -5.150579799384059]),
            {
              "clase": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16039373911138, -5.15049431525675]),
            {
              "clase": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.15142443216558, -5.143527320249504]),
            {
              "clase": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.158162141211, -5.143228122436433]),
            {
              "clase": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.15824797189947, -5.143399092632551]),
            {
              "clase": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16811850107428, -5.137457851399331]),
            {
              "clase": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16459944284674, -5.136517505981523]),
            {
              "clase": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16391279733892, -5.136474762975018]),
            {
              "clase": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.17592909372564, -5.140877277583857]),
            {
              "clase": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.17271044290777, -5.138825624075523]),
            {
              "clase": 3,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.17125132120367, -5.138269966779923]),
            {
              "clase": 3,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.15673433046197, -5.15322576691368]),
            {
              "clase": 3,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.15510354738092, -5.154166087639772]),
            {
              "clase": 3,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16145501832818, -5.158312030602421]),
            {
              "clase": 3,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16149793367242, -5.157756390333158]),
            {
              "clase": 3,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16145501832818, -5.158867670385264]),
            {
              "clase": 3,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16677652101373, -5.163099065076324]),
            {
              "clase": 3,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1665190289483, -5.163227288717201]),
            {
              "clase": 3,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16433034639215, -5.165107899137402]),
            {
              "clase": 3,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.16566072206354, -5.1660482022552445]),
            {
              "clase": 3,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.17398629884576, -5.162457946483029]),
            {
              "clase": 3,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.152957780169, -5.16318454750645]),
            {
              "clase": 3,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12067482207081, -5.150650672418047]),
            {
              "clase": 3,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12226268980763, -5.16492635867069]),
            {
              "clase": 3,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.11737034056446, -5.159412733476073]),
            {
              "clase": 3,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12243435118458, -5.155480506392776]),
            {
              "clase": 3,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1225630972173, -5.149411151585081]),
            {
              "clase": 3,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1272837850835, -5.164627170936784]),
            {
              "clase": 3,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12530967924855, -5.1730043740799]),
            {
              "clase": 3,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1144950125005, -5.176722790972702]),
            {
              "clase": 3,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.11492416594288, -5.177577596363693]),
            {
              "clase": 3,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.11050388548634, -5.171935859436854]),
            {
              "clase": 3,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.1119480282723, -5.185084916331147]),
            {
              "clase": 3,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.10615445680013, -5.185640532613736]),
            {
              "clase": 3,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12589551514974, -5.1829051861937625]),
            {
              "clase": 3,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.12606717652669, -5.1837172433987515]),
            {
              "clase": 3,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.13177491731038, -5.186495325939813]),
            {
              "clase": 3,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.214107226385, -5.103891833852577]),
            {
              "clase": 3,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2109744062556, -5.100301228184845]),
            {
              "clase": 3,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2080561628474, -5.1050886979431]),
            {
              "clase": 3,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.19715566541088, -5.106456539882956]),
            {
              "clase": 3,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.19256372357738, -5.106841244902815]),
            {
              "clase": 3,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.19089002515209, -5.109534173577248]),
            {
              "clase": 3,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.19380826856029, -5.114107851897315]),
            {
              "clase": 3,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.19552488232982, -5.115347441329326]),
            {
              "clase": 3,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.21539468671214, -5.109576918385613]),
            {
              "clase": 3,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.21633882428539, -5.108893001109618]),
            {
              "clase": 3,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.21655340100658, -5.1037635982818585]),
            {
              "clase": 3,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22505063916576, -5.105045952835457]),
            {
              "clase": 3,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22535104657543, -5.105601639012452]),
            {
              "clase": 3,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22753972913158, -5.104575756463481]),
            {
              "clase": 3,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2283551206721, -5.105601639012452]),
            {
              "clase": 3,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22865552808177, -5.106456539882956]),
            {
              "clase": 3,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22681016827953, -5.107952613663403]),
            {
              "clase": 3,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2161242475642, -5.1109020060305275]),
            {
              "clase": 3,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20706910992992, -5.1117141551678476]),
            {
              "clase": 3,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20299215222728, -5.113808640295497]),
            {
              "clase": 3,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20496625806224, -5.107610654249986]),
            {
              "clase": 3,
              "system:index": "67"
            })]),
    c4_bosque_seco = /* color: #5bdd4a */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-77.69562114248811, -7.588973014577623]),
            {
              "clase": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-75.183452097976, -14.877545868227934]),
            {
              "clase": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-71.84034163709364, -17.158555174612033]),
            {
              "clase": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-71.84221918340407, -17.158801206060648]),
            {
              "clase": 4,
              "system:index": "3"
            })]),
    c5_bosque = /* color: #139b01 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-74.92471500620302, -11.298996766488536]),
            {
              "clase": 5,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20882863904369, -5.108850256255632]),
            {
              "clase": 5,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.21015901471507, -5.111414942447594]),
            {
              "clase": 5,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20878572369945, -5.106499284896568]),
            {
              "clase": 5,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20342130566966, -5.0993608281429825]),
            {
              "clase": 5,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.20355005170238, -5.09966004648754]),
            {
              "clase": 5,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34880673637404, -5.149695405830254]),
            {
              "clase": 5,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3483132099153, -5.15034722282986]),
            {
              "clase": 5,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34784114112868, -5.150454078011932]),
            {
              "clase": 5,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35249745597854, -5.148861933939156]),
            {
              "clase": 5,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34787332763686, -5.148861933939156]),
            {
              "clase": 5,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34280931701674, -5.150379279386368]),
            {
              "clase": 5,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34288441886916, -5.149278670021278]),
            {
              "clase": 5,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3485277866365, -5.15086012753999]),
            {
              "clase": 5,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34703647842422, -5.15065710280839]),
            {
              "clase": 5,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3472510551454, -5.152569806917705]),
            {
              "clase": 5,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35746490707412, -5.149171814641644]),
            {
              "clase": 5,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35718595733657, -5.148060517628963]),
            {
              "clase": 5,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35785114517226, -5.15034722282986]),
            {
              "clase": 5,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35769021263137, -5.150592989721785]),
            {
              "clase": 5,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34776603927627, -5.151586741837519]),
            {
              "clase": 5,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3479698871614, -5.148124630970941]),
            {
              "clase": 5,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34837758293166, -5.147761321947575]),
            {
              "clase": 5,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34039532890334, -5.151885935718572]),
            {
              "clase": 5,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34206902732863, -5.150924240599662]),
            {
              "clase": 5,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.34189736595168, -5.150454078011932]),
            {
              "clase": 5,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28860465870694, -5.149327830929333]),
            {
              "clase": 5,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28980628834562, -5.148579842952613]),
            {
              "clase": 5,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29137269841031, -5.1467205547419335]),
            {
              "clase": 5,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2942694841464, -5.150439125726974]),
            {
              "clase": 5,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29489175663785, -5.150631465013963]),
            {
              "clase": 5,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29605047093229, -5.150396383655285]),
            {
              "clase": 5,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29523507939176, -5.1450963445014715]),
            {
              "clase": 5,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2820600687106, -5.14567336703545]),
            {
              "clase": 5,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28514997349576, -5.145630624643466]),
            {
              "clase": 5,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28210298405484, -5.142745506547976]),
            {
              "clase": 5,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28298274861173, -5.143194303555111]),
            {
              "clase": 5,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28641597615079, -5.141847911584577]),
            {
              "clase": 5,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28128759251432, -5.141121286163617]),
            {
              "clase": 5,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28098718510465, -5.14065111633178]),
            {
              "clase": 5,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2756656824191, -5.141847911584577]),
            {
              "clase": 5,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27485029087858, -5.142745506547976]),
            {
              "clase": 5,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26987211094693, -5.142296709224452]),
            {
              "clase": 5,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26993648396329, -5.143728585293897]),
            {
              "clase": 5,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26698272989921, -5.138143663592948]),
            {
              "clase": 5,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26728313730888, -5.138293263711395]),
            {
              "clase": 5,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27326982783012, -5.137588005702648]),
            {
              "clase": 5,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27365606592826, -5.136327087923703]),
            {
              "clase": 5,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27348440455131, -5.1355790846727]),
            {
              "clase": 5,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27017992304496, -5.135878286078423]),
            {
              "clase": 5,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26981514261894, -5.136626288978345]),
            {
              "clase": 5,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26822727488212, -5.132907637327008]),
            {
              "clase": 5,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26962202356987, -5.1330358670552885]),
            {
              "clase": 5,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27086656855278, -5.134104447121669]),
            {
              "clase": 5,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28017919825248, -5.133057238674154]),
            {
              "clase": 5,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27998607920341, -5.130920073242651]),
            {
              "clase": 5,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28979223536186, -5.130193435365214]),
            {
              "clase": 5,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27477186487846, -5.132950380572625]),
            {
              "clase": 5,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2752653913372, -5.132843522453197]),
            {
              "clase": 5,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27382772730522, -5.129530911873524]),
            {
              "clase": 5,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29543560312919, -5.130620869510975]),
            {
              "clase": 5,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29818218516044, -5.1303216656389985]),
            {
              "clase": 5,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29985588358574, -5.132501576350734]),
            {
              "clase": 5,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29996317194633, -5.132929008950173]),
            {
              "clase": 5,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29732387827568, -5.131689453622754]),
            {
              "clase": 5,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2853504972332, -5.130770471394351]),
            {
              "clase": 5,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28595131205253, -5.130257550505325]),
            {
              "clase": 5,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28631609247856, -5.130236178792671]),
            {
              "clase": 5,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28335493372612, -5.134980681439994]),
            {
              "clase": 5,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28286140726738, -5.135408112377809]),
            {
              "clase": 5,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28101604746513, -5.136690403471772]),
            {
              "clase": 5,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28067272471122, -5.136882746913381]),
            {
              "clase": 5,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27099504190505, -5.105273560541159]),
            {
              "clase": 5,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27099504190505, -5.106085716810721]),
            {
              "clase": 5,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27211084085525, -5.104418658093648]),
            {
              "clase": 5,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27258290964187, -5.103093557048292]),
            {
              "clase": 5,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25365724283279, -5.106128461849041]),
            {
              "clase": 5,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25404348093093, -5.1053590507232265]),
            {
              "clase": 5,
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25537385660232, -5.100742564587979]),
            {
              "clase": 5,
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25558843332351, -5.099716674270186]),
            {
              "clase": 5,
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25709047037185, -5.099203728496539]),
            {
              "clase": 5,
              "system:index": "80"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24258508401931, -5.099118237494435]),
            {
              "clase": 5,
              "system:index": "81"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24151220041335, -5.098990000969918]),
            {
              "clase": 5,
              "system:index": "82"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24082555490554, -5.098477054615769]),
            {
              "clase": 5,
              "system:index": "83"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2809084864241, -5.105017089926549]),
            {
              "clase": 5,
              "system:index": "84"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27841939645828, -5.101127273034455]),
            {
              "clase": 5,
              "system:index": "85"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28468503671706, -5.099160982996911]),
            {
              "clase": 5,
              "system:index": "86"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2841700525862, -5.099203728496539]),
            {
              "clase": 5,
              "system:index": "87"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28751744943679, -5.100015892448895]),
            {
              "clase": 5,
              "system:index": "88"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28811826425613, -5.0992892194872805]),
            {
              "clase": 5,
              "system:index": "89"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29004945474685, -5.101811198592166]),
            {
              "clase": 5,
              "system:index": "90"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2728404017073, -5.112497440703358]),
            {
              "clase": 5,
              "system:index": "91"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27391328531326, -5.1114288245102895]),
            {
              "clase": 5,
              "system:index": "92"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27361287790359, -5.108693158933155]),
            {
              "clase": 5,
              "system:index": "93"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27442826944412, -5.105530031053189]),
            {
              "clase": 5,
              "system:index": "94"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2603949518782, -5.101469235904408]),
            {
              "clase": 5,
              "system:index": "95"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26013745981277, -5.101853943915323]),
            {
              "clase": 5,
              "system:index": "96"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2603949518782, -5.102281396990296]),
            {
              "clase": 5,
              "system:index": "97"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26327027994216, -5.103734735315243]),
            {
              "clase": 5,
              "system:index": "98"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26455774026931, -5.100315110488131]),
            {
              "clase": 5,
              "system:index": "99"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26636018472732, -5.100315110488131]),
            {
              "clase": 5,
              "system:index": "100"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26490106302322, -5.100272365062496]),
            {
              "clase": 5,
              "system:index": "101"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26494397836746, -5.100956291531146]),
            {
              "clase": 5,
              "system:index": "102"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25189771371902, -5.099374710466624]),
            {
              "clase": 5,
              "system:index": "103"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25185479837478, -5.0983060724066585]),
            {
              "clase": 5,
              "system:index": "104"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25194062906326, -5.103179047520898]),
            {
              "clase": 5,
              "system:index": "105"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25215520578445, -5.103521009297453]),
            {
              "clase": 5,
              "system:index": "106"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25687589365066, -5.0855756649286805]),
            {
              "clase": 5,
              "system:index": "107"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25760545450271, -5.085661157731538]),
            {
              "clase": 5,
              "system:index": "108"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25236978250564, -5.083994046028561]),
            {
              "clase": 5,
              "system:index": "109"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2514256449324, -5.084250525033016]),
            {
              "clase": 5,
              "system:index": "110"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25112523752273, -5.086045875203828]),
            {
              "clase": 5,
              "system:index": "111"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25164022165359, -5.0863450997455555]),
            {
              "clase": 5,
              "system:index": "112"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26151075082839, -5.08283988924456]),
            {
              "clase": 5,
              "system:index": "113"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26811971384109, -5.082797142657284]),
            {
              "clase": 5,
              "system:index": "114"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26811971384109, -5.08437876449695]),
            {
              "clase": 5,
              "system:index": "115"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27168168741287, -5.081429250366971]),
            {
              "clase": 5,
              "system:index": "116"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26850595193923, -5.081044530137076]),
            {
              "clase": 5,
              "system:index": "117"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25138272958816, -5.075957652174209]),
            {
              "clase": 5,
              "system:index": "118"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2526701899153, -5.080702556406571]),
            {
              "clase": 5,
              "system:index": "119"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24867906290115, -5.0807880498562135]),
            {
              "clase": 5,
              "system:index": "120"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2442587824446, -5.085404679288947]),
            {
              "clase": 5,
              "system:index": "121"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24421586710037, -5.083694820394262]),
            {
              "clase": 5,
              "system:index": "122"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24417295175613, -5.081899463669345]),
            {
              "clase": 5,
              "system:index": "123"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24181260782302, -5.081087276840632]),
            {
              "clase": 5,
              "system:index": "124"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24069680887283, -5.083352848070555]),
            {
              "clase": 5,
              "system:index": "125"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24288549142898, -5.07228139606753]),
            {
              "clase": 5,
              "system:index": "126"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24352922159255, -5.070956228848101]),
            {
              "clase": 5,
              "system:index": "127"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2234019251448, -5.078522469609087]),
            {
              "clase": 5,
              "system:index": "128"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22318734842361, -5.0747607338808765]),
            {
              "clase": 5,
              "system:index": "129"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22275819498122, -5.0721531541974425]),
            {
              "clase": 5,
              "system:index": "130"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22215738016189, -5.07159743913264]),
            {
              "clase": 5,
              "system:index": "131"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2217282267195, -5.0726661215249464]),
            {
              "clase": 5,
              "system:index": "132"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2225007029158, -5.0754874345381]),
            {
              "clase": 5,
              "system:index": "133"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22709264474929, -5.083139115276033]),
            {
              "clase": 5,
              "system:index": "134"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22529020029128, -5.08356658079415]),
            {
              "clase": 5,
              "system:index": "135"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22327317911208, -5.08245516985699]),
            {
              "clase": 5,
              "system:index": "136"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2222861261946, -5.082070450239684]),
            {
              "clase": 5,
              "system:index": "137"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23975267129958, -5.071682933789124]),
            {
              "clase": 5,
              "system:index": "138"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22966756540359, -5.070400512753079]),
            {
              "clase": 5,
              "system:index": "139"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3037298003478, -5.096316810651611]),
            {
              "clase": 5,
              "system:index": "140"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30179860985707, -5.099180765520139]),
            {
              "clase": 5,
              "system:index": "141"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30570390618276, -5.105336087967087]),
            {
              "clase": 5,
              "system:index": "142"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30441644585561, -5.104438440454807]),
            {
              "clase": 5,
              "system:index": "143"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3017127791686, -5.106917654336302]),
            {
              "clase": 5,
              "system:index": "144"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29703500664662, -5.10734510403668]),
            {
              "clase": 5,
              "system:index": "145"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29733541405629, -5.108071767873181]),
            {
              "clase": 5,
              "system:index": "146"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29789331353139, -5.102814122715667]),
            {
              "clase": 5,
              "system:index": "147"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30111196434926, -5.11033724395746]),
            {
              "clase": 5,
              "system:index": "148"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30111196434926, -5.109054899987755]),
            {
              "clase": 5,
              "system:index": "149"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30742051995229, -5.109952541036016]),
            {
              "clase": 5,
              "system:index": "150"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30784967339467, -5.109183134500201]),
            {
              "clase": 5,
              "system:index": "151"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30840757286977, -5.108328237265847]),
            {
              "clase": 5,
              "system:index": "152"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30694845116567, -5.108798430885868]),
            {
              "clase": 5,
              "system:index": "153"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30729177391957, -5.1062337342229345]),
            {
              "clase": 5,
              "system:index": "154"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30815008080434, -5.105336087967087]),
            {
              "clase": 5,
              "system:index": "155"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30703428185414, -5.104395695303845]),
            {
              "clase": 5,
              "system:index": "156"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30450227654408, -5.105635303525313]),
            {
              "clase": 5,
              "system:index": "157"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31913640892934, -5.095376404775734]),
            {
              "clase": 5,
              "system:index": "158"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3220117369933, -5.093666572384675]),
            {
              "clase": 5,
              "system:index": "159"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32218339837026, -5.092469687004652]),
            {
              "clase": 5,
              "system:index": "160"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32432916558217, -5.098753310380452]),
            {
              "clase": 5,
              "system:index": "161"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32441499627065, -5.099351747496333]),
            {
              "clase": 5,
              "system:index": "162"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31922223961782, -5.096701521749547]),
            {
              "clase": 5,
              "system:index": "163"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29849412835073, -5.097299960777285]),
            {
              "clase": 5,
              "system:index": "164"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29806497490834, -5.097556434475646]),
            {
              "clase": 5,
              "system:index": "165"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27192953026723, -5.10093332861743]),
            {
              "clase": 5,
              "system:index": "166"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27390363610219, -5.09871056485084]),
            {
              "clase": 5,
              "system:index": "167"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27437570488881, -5.097385452021453]),
            {
              "clase": 5,
              "system:index": "168"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25845411217641, -5.105293342875945]),
            {
              "clase": 5,
              "system:index": "169"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28644642338922, -5.167201960009641]),
            {
              "clase": 5,
              "system:index": "170"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28575977788141, -5.1677148510974416]),
            {
              "clase": 5,
              "system:index": "171"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2848585556524, -5.164851203878841]),
            {
              "clase": 5,
              "system:index": "172"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.279022068836, -5.159764992600868]),
            {
              "clase": 5,
              "system:index": "173"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2856310318487, -5.157072276004028]),
            {
              "clase": 5,
              "system:index": "174"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27597507939508, -5.152883583042833]),
            {
              "clase": 5,
              "system:index": "175"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2764471481817, -5.151815034498394]),
            {
              "clase": 5,
              "system:index": "176"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27696213231256, -5.149848900482465]),
            {
              "clase": 5,
              "system:index": "177"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28163990483453, -5.165535061107132]),
            {
              "clase": 5,
              "system:index": "178"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27855000004938, -5.16643262259948]),
            {
              "clase": 5,
              "system:index": "179"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27773460850885, -5.168398705235252]),
            {
              "clase": 5,
              "system:index": "180"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27760586247614, -5.171732483583022]),
            {
              "clase": 5,
              "system:index": "181"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27679047093561, -5.1720744085749235]),
            {
              "clase": 5,
              "system:index": "182"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2810390900152, -5.170151078093377]),
            {
              "clase": 5,
              "system:index": "183"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2841719101446, -5.169168040257834]),
            {
              "clase": 5,
              "system:index": "184"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30305466160944, -5.164167345912787]),
            {
              "clase": 5,
              "system:index": "185"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.29944977269342, -5.165535061107132]),
            {
              "clase": 5,
              "system:index": "186"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32692472914465, -5.163935442032519]),
            {
              "clase": 5,
              "system:index": "187"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32692472914465, -5.164074350792395]),
            {
              "clase": 5,
              "system:index": "188"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32695691565283, -5.16423463009289]),
            {
              "clase": 5,
              "system:index": "189"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32702128866919, -5.164341482937381]),
            {
              "clase": 5,
              "system:index": "190"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3218178031803, -5.164768894135211]),
            {
              "clase": 5,
              "system:index": "191"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32151739577063, -5.164459021045509]),
            {
              "clase": 5,
              "system:index": "192"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32153885344275, -5.164929173260115]),
            {
              "clase": 5,
              "system:index": "193"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32149593809851, -5.16648922129187]),
            {
              "clase": 5,
              "system:index": "194"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32091658095129, -5.164320112369919]),
            {
              "clase": 5,
              "system:index": "195"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3225580928684, -5.162685261824181]),
            {
              "clase": 5,
              "system:index": "196"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3235129592777, -5.1623540170824205]),
            {
              "clase": 5,
              "system:index": "197"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31977192193288, -5.176892289731302]),
            {
              "clase": 5,
              "system:index": "198"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31982556611318, -5.17707393592488]),
            {
              "clase": 5,
              "system:index": "199"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32016888886709, -5.1767320136348225]),
            {
              "clase": 5,
              "system:index": "200"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31917110711355, -5.177191471669397]),
            {
              "clase": 5,
              "system:index": "201"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31779781609792, -5.177383802840565]),
            {
              "clase": 5,
              "system:index": "202"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2492033754585, -5.098859840927964]),
            {
              "clase": 5,
              "system:index": "203"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25089853155592, -5.100035341682294]),
            {
              "clase": 5,
              "system:index": "204"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24792664396742, -5.10036661877887]),
            {
              "clase": 5,
              "system:index": "205"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24667137014845, -5.100462795968421]),
            {
              "clase": 5,
              "system:index": "206"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2458345209358, -5.100313187000654]),
            {
              "clase": 5,
              "system:index": "207"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24531953680494, -5.100270441574891]),
            {
              "clase": 5,
              "system:index": "208"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24805539000013, -5.10114672223419]),
            {
              "clase": 5,
              "system:index": "209"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25377385961988, -5.1014993714302]),
            {
              "clase": 5,
              "system:index": "210"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25370948660353, -5.101862706762834]),
            {
              "clase": 5,
              "system:index": "211"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25310867178419, -5.102364964089796]),
            {
              "clase": 5,
              "system:index": "212"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25412791120985, -5.100762013799356]),
            {
              "clase": 5,
              "system:index": "213"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2542995725868, -5.104021341849933]),
            {
              "clase": 5,
              "system:index": "214"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25511496412733, -5.102418395697191]),
            {
              "clase": 5,
              "system:index": "215"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25640242445448, -5.101787902446457]),
            {
              "clase": 5,
              "system:index": "216"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25707834112623, -5.100665836654626]),
            {
              "clase": 5,
              "system:index": "217"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25486820089796, -5.100110146202914]),
            {
              "clase": 5,
              "system:index": "218"
            })]),
    c6_manglar = /* color: #17ff7e */ee.FeatureCollection([]),
    c7_bosque_plantado = /* color: #0f5e00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-70.01386794288933, -15.802486206646622]),
            {
              "clase": 7,
              "system:index": "0"
            })]),
    c8_pastizales = /* color: #ffec13 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-70.01039086106388, -15.798535372037525]),
            {
              "clase": 8,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32943527678259, -5.162728003068569]),
            {
              "clase": 8,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32944600561865, -5.162877597401282]),
            {
              "clase": 8,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32928507307776, -5.162941709247356]),
            {
              "clase": 8,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3292743442417, -5.1627707443100945]),
            {
              "clase": 8,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32936017493017, -5.162364702399376]),
            {
              "clase": 8,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32962839583166, -5.162984450474467]),
            {
              "clase": 8,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32942454794653, -5.167771449675293]),
            {
              "clase": 8,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32986443022497, -5.167685967863797]),
            {
              "clase": 8,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3301755664707, -5.167931728040756]),
            {
              "clase": 8,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32236497381933, -5.16423463009289]),
            {
              "clase": 8,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32239716032751, -5.16435216822084]),
            {
              "clase": 8,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32242934683569, -5.164629985527531]),
            {
              "clase": 8,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32237570265539, -5.165014655443481]),
            {
              "clase": 8,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32257955054052, -5.165645086189803]),
            {
              "clase": 8,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32313745001562, -5.1666601852262515]),
            {
              "clase": 8,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32353441694983, -5.163176785960822]),
            {
              "clase": 8,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32455365637549, -5.163101988834177]),
            {
              "clase": 8,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32845895270117, -5.1643628535041195]),
            {
              "clase": 8,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32702128866919, -5.162877597401282]),
            {
              "clase": 8,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32549779394873, -5.161029036385388]),
            {
              "clase": 8,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32419548589401, -5.155569665799005]),
            {
              "clase": 8,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32448516446762, -5.15621079135176]),
            {
              "clase": 8,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32043710976858, -5.177821890289867]),
            {
              "clase": 8,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3214670780303, -5.177832575345814]),
            {
              "clase": 8,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32117739945669, -5.177212841802409]),
            {
              "clase": 8,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3209091785552, -5.178398883052595]),
            {
              "clase": 8,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32089844971914, -5.1776295592519395]),
            {
              "clase": 8,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32204643517751, -5.177982166110097]),
            {
              "clase": 8,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32161728173513, -5.178644639069403]),
            {
              "clase": 8,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32054439812917, -5.177191471669397]),
            {
              "clase": 8,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3182806137206, -5.177982166110097]),
            {
              "clase": 8,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32605901986379, -5.1752467865419645]),
            {
              "clase": 8,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32411710053701, -5.176689273335554]),
            {
              "clase": 8,
              "system:index": "33"
            })]),
    c9_arbustal_matorral = /* color: #ceb747 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-74.42461002368624, -14.725342189207296]),
            {
              "clase": 9,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24850143828571, -5.198829677247514]),
            {
              "clase": 9,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24760021605671, -5.200026362544719]),
            {
              "clase": 9,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24987472930134, -5.203488189344674]),
            {
              "clase": 9,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24099125304402, -5.193444565275263]),
            {
              "clase": 9,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23918880858601, -5.1961798659973075]),
            {
              "clase": 9,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24099125304402, -5.199385281418346]),
            {
              "clase": 9,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24373783507527, -5.19887241604729]),
            {
              "clase": 9,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2425362054366, -5.206009754900635]),
            {
              "clase": 9,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24223579802693, -5.206266184729823]),
            {
              "clase": 9,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24888767638386, -5.1989578936381395]),
            {
              "clase": 9,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24820103087605, -5.195880693059113]),
            {
              "clase": 9,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2405191842574, -5.19412839156873]),
            {
              "clase": 9,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24081959166706, -5.194384826237513]),
            {
              "clase": 9,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23188384550417, -5.173594094850956]),
            {
              "clase": 9,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2315834380945, -5.174406164016384]),
            {
              "clase": 9,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.22557528990114, -5.173936018837115]),
            {
              "clase": 9,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23699077146853, -5.173337651740104]),
            {
              "clase": 9,
              "system:index": "17"
            })]),
    c10_poca_vegetacion = /* color: #f8b3ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-70.0046543568059, -15.797679391023799]),
            {
              "clase": 10,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-75.17948242863396, -14.876446733314484]),
            {
              "clase": 10,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30672895670594, -5.169542724884294]),
            {
              "clase": 10,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31003343821229, -5.166743197388715]),
            {
              "clase": 10,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30157911539735, -5.169478613706022]),
            {
              "clase": 10,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3027592873639, -5.170568502853752]),
            {
              "clase": 10,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30893909693421, -5.171081391215321]),
            {
              "clase": 10,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30707227945985, -5.16969231760832]),
            {
              "clase": 10,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30739414454163, -5.169542724884294]),
            {
              "clase": 10,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31035530329407, -5.166743197388715]),
            {
              "clase": 10,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.30157911539735, -5.169670947221335]),
            {
              "clase": 10,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35056626548781, -5.150197625544777]),
            {
              "clase": 10,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35065209617629, -5.150582304206706]),
            {
              "clase": 10,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35068428268447, -5.150796014473867]),
            {
              "clase": 10,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35074865570083, -5.1511058942336]),
            {
              "clase": 10,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35122072448745, -5.15065710280839]),
            {
              "clase": 10,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35136019935622, -5.150133512411826]),
            {
              "clase": 10,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35141384353652, -5.150389964904844]),
            {
              "clase": 10,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35120999565139, -5.1501762545011855]),
            {
              "clase": 10,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35074865570083, -5.150475449046199]),
            {
              "clase": 10,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.35082375755324, -5.150999039161092]),
            {
              "clase": 10,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.33242862204321, -5.158881279538239]),
            {
              "clase": 10,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.33263246992834, -5.15881716728181]),
            {
              "clase": 10,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3242317912937, -5.16195866022868]),
            {
              "clase": 10,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32514374235876, -5.162578408700591]),
            {
              "clase": 10,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32511155585058, -5.16282417085794]),
            {
              "clase": 10,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32498280981787, -5.162183051986729]),
            {
              "clase": 10,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32712857702978, -5.161488505811553]),
            {
              "clase": 10,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31977932432898, -5.159533087110961]),
            {
              "clase": 10,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32689254263647, -5.15744943760178]),
            {
              "clase": 10,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.32854478338965, -5.156466380073974]),
            {
              "clase": 10,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.317272103131, -5.173964573297432]),
            {
              "clase": 10,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.31707898408193, -5.174295811967871]),
            {
              "clase": 10,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.3155233028533, -5.17473390155598]),
            {
              "clase": 10,
              "system:index": "33"
            })]),
    c11_totoral = /* color: #d72fff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-69.96962504506757, -15.813095174276135]),
            {
              "clase": 11,
              "system:index": "0"
            })]),
    c12_bofedal = /* color: #00ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-74.98559005504937, -11.399855373752377]),
            {
              "clase": 12,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-75.55738707814496, -11.036896587944213]),
            {
              "clase": 12,
              "system:index": "1"
            })]),
    c13_areas_humedas_costeras = /* color: #ccebc5 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-76.10184896881482, -14.312496169623012]),
            {
              "clase": 13,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-76.1028360217323, -14.31536540112019]),
            {
              "clase": 13,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-76.1018275111427, -14.316030724926476]),
            {
              "clase": 13,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-71.87179712538452, -17.14039689596638]),
            {
              "clase": 13,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-71.87781880029178, -17.13314117366334]),
            {
              "clase": 13,
              "system:index": "4"
            })]),
    c14_glaciar = /* color: #13f5ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-74.96559808542669, -11.448957105795413]),
            {
              "clase": 14,
              "system:index": "0"
            })]),
    c15_Agua = /* color: #0000ff */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-69.9822752003953, -15.765820726661403]),
            {
              "clase": 15,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Point([-75.58649261437101, -11.067579207818033]),
            {
              "clase": 15,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23825355901275, -5.189515917224476]),
            {
              "clase": 15,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23801752461944, -5.189932626556506]),
            {
              "clase": 15,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23776003255401, -5.1901142689997]),
            {
              "clase": 15,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23740598096404, -5.190306596235479]),
            {
              "clase": 15,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23874708547149, -5.189900572002271]),
            {
              "clase": 15,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23796388043914, -5.190584402139196]),
            {
              "clase": 15,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23735233678374, -5.190520293095355]),
            {
              "clase": 15,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23093649282012, -5.190221117471259]),
            {
              "clase": 15,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23127981557403, -5.1902531720091964]),
            {
              "clase": 15,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23053952588592, -5.190221117471259]),
            {
              "clase": 15,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23822137250457, -5.189077837886327]),
            {
              "clase": 15,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23825355901275, -5.18976166891513]),
            {
              "clase": 15,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27760736150157, -5.239086562104331]),
            {
              "clase": 15,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27571908635508, -5.241650720349241]),
            {
              "clase": 15,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27576200169932, -5.238872881775553]),
            {
              "clase": 15,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2846025626124, -5.230881185035259]),
            {
              "clase": 15,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28520337743174, -5.232718856962904]),
            {
              "clase": 15,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.28490297002207, -5.231522233995068]),
            {
              "clase": 15,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27078382176768, -5.24053958640202]),
            {
              "clase": 15,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23112072386921, -5.190495555888371]),
            {
              "clase": 15,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23120655455769, -5.190794731382282]),
            {
              "clase": 15,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23657097258747, -5.190794731382282]),
            {
              "clase": 15,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23687137999714, -5.190324598399562]),
            {
              "clase": 15,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2393047088665, -5.175520536869772]),
            {
              "clase": 15,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.24522702637138, -5.17624712290698]),
            {
              "clase": 15,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2459136718792, -5.17705918866667]),
            {
              "clase": 15,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23921887817802, -5.175905200169913]),
            {
              "clase": 15,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25260846558037, -5.189667444204665]),
            {
              "clase": 15,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.26582639160576, -5.206720243047495]),
            {
              "clase": 15,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23767741697634, -5.20650342983784]),
            {
              "clase": 15,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25269778745974, -5.216846008487098]),
            {
              "clase": 15,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25969298857058, -5.212914139148392]),
            {
              "clase": 15,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.25630267637575, -5.221290700682283]),
            {
              "clase": 15,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.27449878233278, -5.197143676892017]),
            {
              "clase": 15,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23368628996218, -5.165259640581654]),
            {
              "clase": 15,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.2347162582239, -5.166584612437471]),
            {
              "clase": 15,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Point([-79.23540290373171, -5.167225726857012]),
            {
              "clase": 15,
              "system:index": "38"
            })]),
    c16_aguas_maritima = /* color: #3b8aff */ee.FeatureCollection([]),
    c17_sin_dato = /* color: #d4d4d4 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Point([-74.93385597452577, -11.269452584852743]),
            {
              "clase": 17,
              "system:index": "0"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
// PASO CLASIFICACION 2023

// Parametros de entrada 
var region = 114, // 101 - 114
    version_input = '2',
    version_out = '2',
    year = 2023,
    months = [1,2,3,4,5,6,7,8,9,10,11,12],
    tileScale = 15,
    cloud_Blue_thr = 1600,  //NO ENMASCAR : 10000, ENMASCAR: 1600
    center_ANP = false,
    Descartar_muestras = [9]; // descartar muestras automaticas;
//---------------------------------

// var palette_1_17 = ["ff9595","b40b0b","ffbd08","4dbb3f","139b01","17ff7e","0f5e00","ffec13","ceb747","ff91fc","70ff41","1af320","00ea67","13f5ff","0021ff","3b8aff","d4d4d4"];
var palette_0_17 = ["ffffff", "ff0000","b40b0b","ffbd08","5bdd4a","139b01","17ff7e","0f5e00","ffec13","ceb747","f8b3ff","d72fff","00ff00","ccebc5","13f5ff","0000ff","3b8aff","d4d4d4"];
var assets_samples = 'projects/ee-anp-lineabase/assets/training_data/samples/';

var area_trabajo = ee.FeatureCollection("projects/ee-eturpocayo/assets/sernanp/AUXILIAR_DATA/limite_anp_y_za_v2")
                      .filter(ee.Filter.eq('Codigo_uni', region));

if(center_ANP){Map.centerObject(area_trabajo, 10)}

var area_trabajo_raster = ee.Image("projects/ee-eturpocayo/assets/sernanp/AUXILIAR_DATA/limite_anp_y_za_v2_raster").eq(region);

var mosaic_coll = ee.ImageCollection('projects/ee-anp-lineabase/assets/mosaics')
                    .filterBounds(area_trabajo.geometry().bounds())
                    .map(function(image){
                        var Mapbiomas = ee.Image('projects/mapbiomas-public/assets/peru/collection2/mapbiomas_peru_collection2_integration_v1')
                                          .select('classification_2021')
                        // image = image.updateMask(image.select('B').lte(cloud_Blue_thr).or(Mapbiomas.eq(34)))
                        image = image.updateMask(image.select('B').lte(cloud_Blue_thr).or(Mapbiomas.eq(34).unmask(area_trabajo_raster)))
                        
                        var ndvi = image.normalizedDifference(['N', 'R']).rename('NDVI');
                        var ndwi = image.normalizedDifference(['G', 'N']).rename('NDWI');
                        
                        return image.addBands(ndvi)
                                    .addBands(ndwi)
                    })
                    
                    
// Mapas referencia remap

    // Mapeo de clases Mapbiomas
    //   3: 'Bosque',
    //   4: 'Bosque seco',
    //   5: 'Manglar',
    //   6: 'Bosque inundable',
    //   9: 'Plantacin forestal',
    //   11: 'Zona pantanosa o pastizal inundable',
    //   12: 'Pastizal / herbazal',
    //   13: 'Matorral y otras formaciones no boscosas',
    //   15: 'Pasto',
    //   18: 'Agricultura',
    //   21: 'Mosaico agropecuario',
    //   24: 'Infraestructura',
    //   25: 'Otra rea sin vegetacin',
    //   27: 'No observado',
    //   30: 'Minera',
    //   31: 'Acuicultura',
    //   32: 'Salina',
    //   33: 'Ro, lago u ocano',
    //   34: 'Glaciar',
    //   35: 'Palma aceitera'
      
  var remap_MB = {
      from: [3, 4, 5, 6, 9, 11, 12, 13, 15, 18, 21, 24, 25, 30, 31, 32, 33, 34],
      to:   [5, 4, 6, 5, 7, 12,  8,  9,  8,  3,  3,  1, 10,  2, 15, 10, 15, 14]
    }

  // Mapeo de clases WorldCover
  //   10: 'Bosque',
  //   20: 'Matorrales',
  //   30: 'Pastizales',
  //   40: 'Tierras de cultivo',
  //   50: 'Construcciones',
  //   60: 'Escasa vegetacin',
  //   70: 'Nieve y hielo',
  //   80: 'Cuerpos de agua permanentes',
  //   90: 'Humedales herbceos',
  //   95: 'Manglares',
  //   100: 'Musgo y lquenes'

  var remap_WC = {
      from: [10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100],
      to:   [ 7,  9,  8,  3,  1, 10, 14, 15, 12,  6,  17]
    }
    
  var Mapbiomas = ee.Image('projects/mapbiomas-public/assets/peru/collection2/mapbiomas_peru_collection2_integration_v1')
                    .select('classification_2021')
                    .remap(remap_MB.from, remap_MB.to)
                    .updateMask(area_trabajo_raster);
                    
  var WorldCover = ee.ImageCollection('ESA/WorldCover/v200').first()
                     .remap(remap_WC.from, remap_WC.to)
                     .updateMask(area_trabajo_raster);
  
// var updtReference = ee.Image(WorldCover.updateMask(Mapbiomas.eq(WorldCover))).updateMask(area_trabajo_raster)
  
Map.addLayer(Mapbiomas.selfMask(),{min: 0, max: 17, palette: palette_0_17},'Mapbiomas', false)
Map.addLayer(WorldCover.selfMask(),{min: 0, max: 17, palette: palette_0_17},'WorldCover', false)

var tillandsia = ee.Image('users/gistin/fog_oasis/tillandsia')
Map.addLayer(tillandsia,{palette:'#b30adb'},'tillandsia', false)

var fo_class2021 = ee.Image('users/gistin/fog_oasis/fo_class2021')
Map.addLayer(fo_class2021,{"min":1,"max":6,"palette":["ff0000","ffa906","ffee06","89ff0c","27ff02","30df2f"]},'fo_class2021', false)


// Geometrias_colectadas_assets
  var folder = 'projects/ee-anp-lineabase/assets/AUXILIAR-DATA/geometry';
  var list = ee.List([]);
  
  function list_folder_to_featColl(e) {
    var path = e.id;
    var fc = ee.FeatureCollection(path)
              // .aggregate_sum('system:asset_size')
              // .divide(ee.Number(1024).pow(4))
    return fc; 
  }
  
  // Function to recursively concatenate asset lists from multiple pages
  function listAssetsRecursive(folder, pageToken) {
    var options = {};
    if (pageToken !== undefined) {
      options.pageToken = pageToken;
    }
  
    var result = ee.data.listAssets(folder, options);
    var assets = result['assets'];
    list = list.cat(assets.map(list_folder_to_featColl));
  
    if (result.nextPageToken !== null) {
      // Call the function recursively for the next page
      listAssetsRecursive(folder, result.nextPageToken);
    }
  }
  
  // Start listing assets
  listAssetsRecursive(folder);
  
  // Print the final concatenated asset list
  // print('Final Asset List:', list);
  
  var geometry_draw = ee.FeatureCollection(list).flatten();
  
  print(geometry_draw)
  

// GEOMETRIAS CLASE COLL
  var Samples_Collect_raster = geometry_draw
                              .reduceToImage(['clase'], ee.Reducer.first())
                              .updateMask(area_trabajo_raster)
                              .rename('clase');
  Map.addLayer(Samples_Collect_raster, {min: 0, max: 17, palette: palette_0_17}, 'Samples_Collect_raster');
  
  var masks_class = area_trabajo_raster.multiply(0).add(99).where(Samples_Collect_raster.eq(1),1)
                                                            .where(Samples_Collect_raster.eq(2),2)
                                                            // .where(Mapbiomas.eq(4),4)
                                                            .rename('mask')




var Samples_Collect = ee.FeatureCollection([
                  c1_area_urbana,
                  c2_mineria,
                  c3_agricultura,
                  c4_bosque_seco,
                  c5_bosque,
                  c6_manglar,
                  c7_bosque_plantado,
                  c8_pastizales,
                  c9_arbustal_matorral,
                  c10_poca_vegetacion,
                  c11_totoral,
                  c12_bofedal,
                  c13_areas_humedas_costeras,
                  c14_glaciar,
                  c15_Agua,
                  c16_aguas_maritima,
                  c17_sin_dato,
                  ]).flatten();
// print(Samples_Collect)


// // Geometrias_colectadas_assets
//   var folder = 'projects/ee-anp-lineabase/assets/AUXILIAR-DATA/geometry';
//   var list = ee.List([]);
  
//   function list_folder_to_featColl(e) {
//     var path = e.id;
//     var fc = ee.FeatureCollection(path)
//               // .aggregate_sum('system:asset_size')
//               // .divide(ee.Number(1024).pow(4))
//     return fc; 
//   }
  
//   // Function to recursively concatenate asset lists from multiple pages
//   function listAssetsRecursive(folder, pageToken) {
//     var options = {};
//     if (pageToken !== undefined) {
//       options.pageToken = pageToken;
//     }
  
//     var result = ee.data.listAssets(folder, options);
//     var assets = result['assets'];
//     list = list.cat(assets.map(list_folder_to_featColl));
  
//     if (result.nextPageToken !== null) {
//       // Call the function recursively for the next page
//       listAssetsRecursive(folder, result.nextPageToken);
//     }
//   }
  
//   // Start listing assets
//   listAssetsRecursive(folder);
  
//   // Print the final concatenated asset list
//   // print('Final Asset List:', list);
  
//   var geometry_draw = ee.FeatureCollection(list).flatten();
  
//   print(geometry_draw)

// // GEOMETRIAS CLASE COLL
//   var Samples_Collect_merge = Samples_Collect.merge(geometry_draw)
//                                     .filterBounds(area_trabajo.geometry().bounds())
//   var Samples_Collect_raster = Samples_Collect_merge
//                               .reduceToImage(['clase'], ee.Reducer.first())
//                               .updateMask(area_trabajo_raster)
//                               .rename('clase');
//   Map.addLayer(Samples_Collect_raster, {min: 1, max: 17, 
//   palette: palette_0_17}, 'Samples_Collect_raster');

// // Funcin para generar el mosaico Planet para un mes y ao determinado
// function getPlanetMosaic(year, month) {
//   var startDate = ee.Date.fromYMD(year, month, 1);
//   var endDate = startDate.advance(1, 'month');
//   var collection = ee.ImageCollection('projects/ee-anp-lineabase/assets/mosaics')
//     .filterBounds(area_trabajo.geometry().bounds())
//     .filter(ee.Filter.eq('month', month))
//     // .filterDate(startDate, endDate)
//     .mosaic();
//   return collection;
// }

// // Function for stretch visualization
// function visual(image, geometry, bands, scale, stretch, name, show){
//   typeof scale == 'undefined' ? scale = 100 : null;
//   typeof stretch == 'undefined' ? stretch = [2, 98] : null;
//   typeof name == 'undefined' ? name = 'Layer ' + Map.layers().length() : null;
//   typeof show == 'undefined' ? show = true : null;
  
//   var minMax = image.select(bands).reduceRegion({
//     reducer: ee.Reducer.percentile(stretch),
//     scale: scale,
//     geometry: geometry,
//     bestEffort: true
//   });
  
//   var scaled = ee.Image(bands.map(function(band){
//     var imageBand = image.select(band);
//     var min = ee.Number(minMax.get(band + '_p' + Math.round(stretch[0])));
//     var max = ee.Number(minMax.get(band + '_p' + Math.round(stretch[1])));
    
//     return imageBand.unitScale(min, max).rename(band);
//   }));
//   Map.addLayer(scaled, { min: 0, max: 1, bands: bands}, name, show);
// }

var altitude = ee.Image("USGS/SRTMGL1_003");
var slope = ee.Terrain.slope(altitude).int8()
    .rename('slope');

// Combinacion de bandas para color natural
var RGB = {bands: ['R', 'N', 'B'], gain: [0.3, 0.06, 0.2]}; // ANDES

// var RGB = {bands: ['R', 'N', 'B'], gain: [0.2, 0.06, 0.2]}; // ANDES
// var RGB = {bands: ['R', 'G', 'B'], min:630, max:2950}; //COSTA

var clasificacion =  ee.Image([]).select([])

months.forEach(function(month){
  
  var mosaic_month = mosaic_coll.filter(ee.Filter.eq('month', month)).first().updateMask(area_trabajo_raster)
  
  Map.addLayer(mosaic_month, RGB, "Mosaic_Planet_Month"+month, false);


  var asset_samples_random = ee.FeatureCollection(assets_samples + 'samples-'+ region +'-' + year + '-month'+ month +'-'+version_input);
      // asset_samples_random = asset_samples_random.filter(ee.Filter.neq('clase', Descartar_muestras))
      asset_samples_random = asset_samples_random.filter(ee.Filter.inList('clase', Descartar_muestras).not())
                                                .filter(ee.Filter.and(ee.Filter.eq('clase', 1),ee.Filter.gte('NDVI', 0.5)).not())
                                                .filter(ee.Filter.and(ee.Filter.eq('clase', 15),ee.Filter.lte('NDWI', -0.5)).not())

  // APLICAR DELETE OUTLAYER
    // Obtenemos las clases nicas
    var clases = asset_samples_random.aggregate_array('clase').distinct();
  
    // Aplicamos la funcin a cada clase y unimos los resultados
    var puntosFiltrados = ee.FeatureCollection(
      clases.map(function(clase) {
        return filtrarOutliers(clase, asset_samples_random, 'NDVI');
      })//.flatten()
    ).flatten();
    
    asset_samples_random = puntosFiltrados;

  // Select_random
    // Agregar una columna aleatoria a la coleccin
    var randomFC = asset_samples_random.randomColumn('random',2);
    
    // Ordenar la coleccin por la columna aleatoria
    var sortedFC = randomFC.sort('random');
    
    
    // Seleccionar los primeros N elementos
    asset_samples_random = sortedFC.limit(1000);
    
    var styledPoints = ee.FeatureCollection(asset_samples_random).map(
    function(point) {
      var classId = point.get('clase'),
          color = ee.List(palette_0_17).get(classId);
      
      return point.set({ style: { color: color } });
    }
      );
    if(month == 8){
    // Map.addLayer(asset_samples_random) 
    Map.addLayer(
      styledPoints.style({
        styleProperty: "style",
        width: 1.5,
      }), {}, 'MUESTRAS DE ENTRENAMIENTO automatico', false
    );
    }
    
    

  // Segmentacin usando SNIC
  var snic = ee.Algorithms.Image.Segmentation.SNIC({
    image: mosaic_month,
    size: 15,
    compactness: 0,
    connectivity: 8,
    neighborhoodSize: 256 
  }).select(['clusters'], ['segments']);
  
  // Map.addLayer(snic.randomVisualizer(),{},'snic', false)
  
  // Reproyecta la imagen a una resolucin fija (por ejemplo, 30 metros)
  var fixedResolutionSegments = snic.reproject({
    crs: mosaic_month.projection(),
    scale: 4.7  // Ajusta segn la resolucin de tu imagen
  });
  
  // Muestra la imagen con resolucin fija en el mapa
  // Map.addLayer(fixedResolutionSegments.randomVisualizer(), {}, 'SNIC Segments (Fixed Resolution)_Month'+month,false);
  
  // Aadir segmentacin como banda
  var mosaic_month_segm = mosaic_month.addBands(fixedResolutionSegments)
                                      .addBands(slope)
                                      .addBands(masks_class);
  
  // Definir bandas para el clasificador, incluyendo NDVI y segmentos
  var bandas = ['R', 'G', 'B', 'N', 'NDVI', 'NDWI','segments', 'slope','mask']; //, 'segments'
  
  // Muestreo de regiones y entrenamiento del clasificador
  var Samples_month = Samples_Collect.merge(asset_samples_random)
  
  var entrenamiento = mosaic_month_segm.sampleRegions({
    collection: Samples_month,
    properties: ['clase'],
    scale: 5
  }).filter(ee.Filter.notNull(bandas));
  
  // Verificar la cantidad de muestras
  // print(entrenamiento.limit(2))
  // print('# de muestras de entrenamiento:'+month, entrenamiento.size());
  
  // Entrenar el clasificador Random Forest
  var clasificador = ee.Classifier.smileRandomForest(50).train({
    features: entrenamiento,
    classProperty: 'clase',
    inputProperties: bandas
  });
  

  
  // Clasificar la imagen usando el clasificador entrenado
  var imagenClasificada_month = mosaic_month_segm.classify(clasificador);
  
    clasificacion = clasificacion.addBands(imagenClasificada_month.rename('clasificacion_'+month));
    
  // Aadir la imagen clasificada al mapa
  
  Map.addLayer(imagenClasificada_month, {min: 0, max: 17, 
  palette: palette_0_17}, 'clasificacion'+month, false);
  
  if(month == 12){
  Map.addLayer(asset_samples_random,{},'samples_random', false)
  }

  
})

// print(clasificacion)

// Map.addLayer(Samples_Collect,{},'Samples_Collect')
// Mostrar Limite de ANP seleccionado
var styling = {color: 'black', fillColor: '00000000'};
Map.addLayer(area_trabajo.style(styling),{},'area_trabajo');

// Exportar to assets
var filenameExport = 'clasificacion'+ '-' + region + '-' + version_out;

clasificacion = clasificacion.set('region', region)
                             .set('version', version_out)


Export.image.toAsset({
  image: clasificacion.byte(),
  description: filenameExport,
  assetId: 'projects/ee-anp-lineabase/assets/clasificacion/' + filenameExport,
  scale: 4.7,
  pyramidingPolicy: {
    '.default': 'mode'
  },
  maxPixels: 1e13,
  region: area_trabajo.geometry().bounds()
});



// ACTUALIZAR REFERENCIAS
// updtReference = updtReference.blend(ee.Image(Samples_Collect_raster)).rename('clase');
// updtReference = ee.Image(updtReference).byte(),

// Map.addLayer(updtReference.selfMask(),{min: 1, max: 17, palette: palette_0_17},'updtReference')


// // AREA CLASE
//   var classAreas = getAreas(updtReference, [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17], area_trabajo);
  
//   print('Capa de reas por clase', classAreas);
  
//   var classAreasDictionary = classAreas.first().toDictionary();
  
//   print(classAreasDictionary)

//   var classNames = classAreasDictionary.keys()
//     .filter(ee.Filter.stringContains('item', 'ID'))
//     .filter(ee.Filter.notEquals('item', 'ORIG_FID'));
  
//   print(classNames)
  
//   // Generar muestras de entrenamiento con base en el rea de cada clase de cobertura
//   var classIds = classNames.map(
//     function(name) {
//       var classId = ee.String(name).split('D').get(1);
//       return ee.Number.parse(classId);
//     }
//   );
//   print(classIds)
//   // Calcular reas de cada clase y total 
//   var areas = classNames.map( function(name) {
//     return classAreasDictionary.get(name);
//   });
  
//   var totalArea = areas.reduce(ee.Reducer.sum());


//   // Calcular numero ponderado de muestras y generar puntos de entrenamiento
//   var pointsPerClass = areas.map(
//     function(area) {
//       return getPointsByArea(
//         area, totalArea, muestras_x_clase, min_muestras_x_clase);
//     });
//   print(pointsPerClass)
  
//   var training = getSamples(updtReference, mosaic_coll, classIds, pointsPerClass);
//   var points = training.points;
//   var data = training.data;
//   print('points',points)
//   Map.addLayer(points,{},'points')

// // Exportar muestras
// var filename = 'samples-' + region + '-'  +   year + '-' + version_out;

// Export.table.toAsset(
//   points,
//   filename,
//   'projects/ee-anp-lineabase/assets/training_data/samples/' + filename
// );

/**
 * Funcin para eliminar outlayers basado en ee.Reducer.percentile([25, 75])
 * Funcin para calcular el rango intercuartil y filtrar los outliers
 * 
 */
function filtrarOutliers(clase, puntos, variable) {
    // Filtramos solo la clase actual
    var puntosClase = puntos.filter(ee.Filter.eq('clase', clase));
    
    // Calculamos los percentiles para NDVI
    var stats = puntosClase.reduceColumns({
      reducer: ee.Reducer.percentile([25, 75]),
      selectors: [variable]
    });
    
    // Extraemos los percentiles
    var p25 = ee.Number(stats.get('p25'));
    var p75 = ee.Number(stats.get('p75'));
    var rangoIntercuartil = p75.subtract(p25);
    
    // Establecemos los lmites para filtrar outliers
    var limiteInferior = p25.subtract(rangoIntercuartil.multiply(1));
    var limiteSuperior = p75.add(rangoIntercuartil.multiply(1));
    
    // Filtramos los puntos dentro del rango
    return puntosClase.filter(ee.Filter.rangeContains(variable, limiteInferior, limiteSuperior));
}


/**
 * Funcin para calcular numero de muestras de entrenamiento con base en el rea
 * que ocupa cada clase
 */
function getPointsByArea(singleArea, totalArea, sampleSize, minSamples) {
  return ee.Number(singleArea)
    .divide(totalArea)
    .multiply(sampleSize)
    .round()
    .int16()
    .max(minSamples);
}


/**
 * Funcin para calcular reas (en Km2) por clase, con base en la imgen
 * de pixeles estables.
 */
function getAreas(image, classes, region){
  
  var reducer = {
      reducer: ee.Reducer.sum(),
      geometry: region.geometry(), 
      scale: 10,
      maxPixels: 1e13
  };
  
  var propFilter = ee.Filter.neq('item', 'OBJECTID');
  
  classes.forEach( function( classId, i ) {
      var imageArea = ee.Image.pixelArea()
        .divide(10000)  //has
        .mask(image.eq(classId))
        .reduceRegion(reducer);
      
      var area = ee.Number(imageArea.get('area')).round();
          
      region = region.map(function(item){
        var props = item.propertyNames();
        var selectProperties = props.filter(propFilter);
        
        return item
          .select(selectProperties)
          .set('ID' + classId.toString(), area);
      });
      
      return region;
  });
  
  return region;
  
}


/**
 * Funcin para implementar la colecta de puntos todos los aos de la lista param.year
 * definida en los parmetros de usuario.
 */
function getSamples(referencePixels, mosaic_coll, classIds, pointsPerClass) {
  
  var list_months = ee.List(months);
  
  var keys = list_months.map( function(month) {
    var stringMonth = ee.String(month);
    return ee.String('samples-').cat(stringMonth);
  });
  
  var points = referencePixels
    .addBands(ee.Image.pixelLonLat())
    .stratifiedSample({
        numPoints: 0,
        classBand: 'clase',
        region: area_trabajo.geometry().bounds(),
        scale: 4.7,
        seed: 1,
        geometries: true,
        dropNulls: true,
        classValues: classIds, 
        classPoints: pointsPerClass,
        tileScale: tileScale
    });

  var monthMosaic;
  
  var trainingSamples = list_months.map( function(month) {
    monthMosaic = mosaic_coll
      .filterMetadata('month', 'equals', month)
      .mosaic();
    
    var training = referencePixels
      .addBands(monthMosaic)
      .sampleRegions({
        collection: points,
        properties: ['clase'],
        scale: 4.7,
        geometries: true,
        tileScale: tileScale
      });
    
    return training;
    
  });
  
  return {
    data: ee.Dictionary.fromLists(keys, trainingSamples),
    points: points
  };

}



// // Validacin
// var muestras_validadas = Manglar_V.merge(BosqueSeco_V).merge(Suelo_V).merge(Agua_V);

// var validacion = imagenClasificada.sampleRegions({
//   collection: muestras_validadas,
//   properties: ['Class'],
//   scale: 5
// });

// var matrizConfusion = validacion.errorMatrix('Class', 'classification');

// print('Matriz de Confusin', matrizConfusion);
// print('Exactitud General', matrizConfusion.accuracy());
// print('Kappa', matrizConfusion.kappa());

// Exportar la imagen resultante
// Export.image.toDrive({
//   image: imagenClasificada,
//   description: 'imagenClasificada',
//   scale: 5,  // Ajusta esta escala segn la resolucin espacial de tus imgenes
//   region: area_trabajo,
//   maxPixels: 1e13,
//   fileFormat: 'GeoTIFF'
// });


// // Exportar imagen color natural
// Export.image.toDrive({
//   image: NICFIAmerica_CLIP.select("R","G","B"),
//   description: "Imagen_Planet", 
//   scale: 4.7,
//   maxPixels: 1e13,
//   region: LimiteSelect
// });



function Legend() {
  
  var legendColors = [
          {color: palette_0_17[1], label:'c1_area_urbana y carret'},
          // {color: palette_0_17[2], label:'c2_mineria'},
          {color: palette_0_17[3], label:'c3_agricultura'},
          // {color: palette_0_17[4], label:'c4_bosque_seco'},
          {color: palette_0_17[5], label:'c5_bosque'},
          // {color: palette_0_17[6], label:'c6_manglar'},
          // {color: palette_0_17[7], label:'c7_bosque_plantado'},
          {color: palette_0_17[8], label:'c8_pastizales'},
          {color: palette_0_17[9], label:'c9_arbustal_matorral'},
          {color: palette_0_17[10], label:'c10_poca_vegetacion'},
          // {color: palette_0_17[11], label:'c11_totoral'},
          // {color: palette_0_17[12], label:'c12_bofedal'},
          // {color: palette_0_17[13], label:'c13_areas_humedas_costeras'},
          // {color: palette_0_17[14], label:'c14_glaciar'},
          {color: palette_0_17[15], label:'c15_Agua'},
          // {color: palette_0_17[16], label:'c16_aguas_maritima'},
          {color: palette_0_17[17], label:'c17_sin_dato'},
  ];

  // Crear un panel para la leyenda
  var legendPanel = ui.Panel({
    style: {
      position: 'bottom-left',
      padding: '8px 15px'
    }
  });

  // Crear un ttulo para la leyenda
  var legendTitle = ui.Label({
    value: 'Leyenda general',
    style: {fontWeight: 'bold', fontSize: '16px', margin: '0 0 4px 0'}
  });

  legendPanel.add(legendTitle);

  // Crear un panel de cuadrcula para organizar en columnas
  var gridPanel = ui.Panel({
    layout: ui.Panel.Layout.Flow('horizontal'),
    style: {stretch: 'horizontal'}
  });

  // Nmero de columnas deseadas
  var columns = 2;

  // Crear un array de columnas como paneles
  var columnPanels = [];
  for (var i = 0; i < columns; i++) {
    columnPanels.push(ui.Panel({
      layout: ui.Panel.Layout.Flow('vertical'),
      style: {padding: '0 10px'}
    }));
  }

  // Aadir elementos a las columnas alternando entre ellas
  legendColors.forEach(function(item, index) {
    var colorBox = ui.Label('', {
      backgroundColor: item.color,
      padding: '6px',
      margin: '0 0 4px 0'
    });

    var description = ui.Label(item.label, {
      margin: '0 0 4px 6px'
    });

    var legendItem = ui.Panel({
      widgets: [colorBox, description],
      layout: ui.Panel.Layout.Flow('horizontal')
    });

    // Aadir a la columna correspondiente
    columnPanels[index % columns].add(legendItem);
  });

  // Aadir todas las columnas al panel de cuadrcula
  columnPanels.forEach(function(panel) {
    gridPanel.add(panel);
  });

  // Aadir el panel de cuadrcula a la leyenda
  legendPanel.add(gridPanel);

  return legendPanel;
}

var legend_MB = Legend();
Map.add(legend_MB);  // Aadir la leyenda al mapa

var anp = ee.FeatureCollection("projects/ee-anp-lineabase/assets/AUXILIAR-DATA/limite_anp_v2");
Map.addLayer(anp.style({color: 'black', fillColor:'00000000'}), {},'anp')

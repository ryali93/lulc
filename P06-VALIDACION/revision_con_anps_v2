/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var BOSQUE = /* color: #2cd626 */ee.Geometry.MultiPoint(
        [[-77.36886850260782, -11.358702753477768],
         [-75.80266983922961, -12.177248178207423],
         [-75.49447541517415, -11.875840109216227],
         [-79.27526526706608, -5.133268098713535],
         [-79.28500705020816, -5.1393162360659375],
         [-75.41865194631579, -14.938670625616641],
         [-75.42260015798571, -14.940909718805008],
         [-75.41779363943103, -14.932367867602999],
         [-75.29416462458191, -14.71199609774532],
         [-75.28811356104431, -14.712431934959794],
         [-78.7736942388537, -6.227010276604549],
         [-78.77624770183587, -6.228354132331366],
         [-78.78163357753778, -6.231041833464534],
         [-78.7723893322254, -6.227270237090785],
         [-78.79324218087635, -6.290979470048064],
         [-78.78774901681385, -6.285434041203426],
         [-78.78852149301014, -6.280144500140583],
         [-78.77710601144275, -6.269565256835301],
         [-75.54874930333267, -11.016356092542775],
         [-75.5481055731691, -11.02164267346737],
         [-75.00523408553052, -11.308569190876371],
         [-75.00439727839935, -11.315549807727692],
         [-75.1087965871973, -11.22100374214994],
         [-75.1021192084854, -11.222048945923191],
         [-75.09993052592925, -11.218555054955253]]),
    ANDENES = /* color: #ffe91f */ee.Geometry.MultiPoint(
        [[-75.8124086217145, -12.33009173844747],
         [-75.78405679481929, -12.28046876518074],
         [-75.86060007610492, -12.346530806557919],
         [-75.86098094978503, -12.347893294296329],
         [-75.79162899299281, -12.339173249356387]]),
    MATORRAL = /* color: #8c7309 */ee.Geometry.MultiPoint(
        [[-75.83168588699708, -12.336511061743643],
         [-75.85809777337657, -12.353139873803944],
         [-79.3053097291572, -5.1689502592653875],
         [-79.30275626617502, -5.171322370517326],
         [-79.30977292495798, -5.166898696423574],
         [-79.29876513916086, -5.170018778947184],
         [-79.34293898944422, -5.256686801981256],
         [-78.7729551618106, -6.164826733310479],
         [-78.78643057990142, -6.158682625536397],
         [-78.7850572888858, -6.162522701231136],
         [-78.76617453742095, -6.165765410177583],
         [-78.78488562750884, -6.155269201603816],
         [-78.77252600836822, -6.170117435759543],
         [-78.77255707056716, -6.266225133919139],
         [-78.77116232187942, -6.266353110739026],
         [-78.76897363932326, -6.2670783121254665]]),
    BOSQUEP_PLANTADO = /* color: #0f7000 */ee.Geometry.MultiPoint(
        [[-75.87371764162917, -12.339776455128534],
         [-75.87435064295668, -12.340929359571966]]),
    BOSQUE_QUINUAL = /* color: #20e02b */ee.Geometry.MultiPoint(
        [[-75.88477888107383, -12.335335210743564],
         [-75.88544406890952, -12.337200848845763],
         [-75.88675298690879, -12.332924535096348],
         [-75.8803800582894, -12.337054113746063]]),
    ANDEN_MAIZ = /* color: #31deff */ee.Geometry.MultiPoint(
        [[-75.79183107818619, -12.34687435063346],
         [-75.79017883743302, -12.347796649590643]]),
    Mineria = /* color: #ff0000 */ee.Geometry.MultiPoint(
        [[-77.58245130637636, -7.768454133334814],
         [-77.57489820579042, -7.757228311366298]]),
    agricultura_Cacao = /* color: #ff15b2 */ee.Geometry.MultiPoint(
        [[-76.73563009241396, -7.381254159255356],
         [-76.74970632532411, -7.371124831044847],
         [-76.73485761621767, -7.371550437735144],
         [-76.74086576441103, -7.397341438898982]]),
    pasto = /* color: #fffd0b */ee.Geometry.MultiPoint(
        [[-76.70617464270775, -7.412984677644696],
         [-76.69547194764189, -7.4141136051972945],
         [-76.68479518407491, -7.359774430123199],
         [-79.34771766755641, -5.253159927146424],
         [-79.34610834214747, -5.254463346169337],
         [-79.34842577073634, -5.254719756147957]]),
    table = ee.FeatureCollection("projects/ee-anp-lineabase/assets/ANP-Total-Grupo1"),
    infraestructura = /* color: #ff0000 */ee.Geometry.MultiPoint(
        [[-79.20540882707316, -5.105164729058512],
         [-75.992751389251, -14.21100903559897],
         [-75.9846833045342, -14.211175443767207],
         [-75.98485496591115, -14.221825311891498],
         [-75.97240951608205, -14.219079690749053],
         [-76.0040810401299, -14.210010584019324],
         [-76.00390937875295, -14.218746885920705],
         [-75.99380833827408, -14.22346113995283],
         [-75.52608268433028, -11.020415536312523],
         [-75.55694037663815, -11.037143445634337],
         [-75.55664261252329, -11.037090727159613],
         [-75.42865050123585, -10.984952901622819]]),
    deslizamientos = /* color: #ff5ed1 */ee.Geometry.MultiPoint(
        [[-79.31144957400382, -5.113184416342847],
         [-79.31970500323338, -5.1098503315005175]]),
    sombra = /* color: #1a1010 */ee.Geometry.MultiPoint(
        [[-79.27223028599036, -5.216836259639507],
         [-79.2615252804689, -5.209296132782862],
         [-79.30573888259958, -5.170745371300959],
         [-79.30588908630442, -5.170424815953536]]),
    Puerto = /* color: #c80000 */ee.Geometry.Point([-76.2917298300395, -13.802929520307282]),
    sin_vengetacion = /* color: #e221ff */ee.Geometry.MultiPoint(
        [[-76.30340280367231, -13.80417979810977],
         [-76.29816713167524, -13.802346055038898],
         [-76.32138763808662, -13.811848021970317],
         [-76.32490669631416, -13.829850686225699],
         [-76.30971688512359, -13.830145619038234],
         [-76.24701934485842, -13.993816174396297],
         [-76.22920947699953, -13.999604297183694],
         [-76.2254981679931, -14.005592481156265],
         [-76.23944565487054, -14.009090177693158],
         [-76.23837277126458, -13.996598159816044],
         [-76.24184891414788, -13.996140106253641],
         [-76.2965409770701, -13.798538797826877]]),
    Tilnansial = /* color: #29dcff */ee.Geometry.MultiPoint(
        [[-76.36571180610602, -13.905506354376898],
         [-76.3342977741236, -13.910338590276268],
         [-76.33223783760016, -13.896174854710166],
         [-76.45866232321191, -13.83983059182724],
         [-76.45866768762994, -13.839723813874203],
         [-76.45839946672845, -13.839812361448487],
         [-76.45767795250345, -13.839708187828172],
         [-76.45886080667901, -13.839929556715555],
         [-76.4560246079392, -13.837864164110393]]),
    Lomas = /* color: #17ff2e */ee.Geometry.MultiPoint(
        [[-76.45965543387467, -13.842908559101275],
         [-76.1089910381398, -14.34999785886935],
         [-76.11173762017106, -14.354446487124386],
         [-76.11547125511979, -14.354113882461347],
         [-76.10851896935318, -14.351785635986012],
         [-76.10785827627818, -14.348742096978137],
         [-76.27110936171982, -14.179508273138769],
         [-75.31647655180576, -15.134460573057739],
         [-75.32986613920811, -15.128826445346855],
         [-75.32299968412998, -15.120540691321903]]),
    LAGUNAS_TEMPORAL = /* color: #0f27ff */ee.Geometry.MultiPoint(
        [[-76.09934438130097, -14.31613668924587],
         [-76.09767068287567, -14.315637696811491],
         [-69.95434441294935, -15.79224148156022],
         [-69.8892249020961, -15.72394907273354],
         [-80.30599769539992, -3.4276195850785958],
         [-80.31451639123122, -3.4251349445622603]]),
    grama_salada_area_humeda_cost = /* color: #1fc9d6 */ee.Geometry.MultiPoint(
        [[-76.22552029534396, -13.832700081986488],
         [-76.22674338265475, -13.8333980653787],
         [-76.22483364983614, -13.831189513745379],
         [-76.22392169877108, -13.833075118099275]]),
    Bosque_Plantado = /* color: #589400 */ee.Geometry.MultiPoint(
        [[-76.20587297764978, -13.845455703406623],
         [-76.19587370244226, -13.845851553130554],
         [-76.19587370244226, -13.844664001936625]]),
    via = /* color: #8b0a0a */ee.Geometry.MultiPoint(
        [[-76.00501863833755, -14.20095140859987],
         [-76.01973860141128, -14.197290235265417],
         [-69.82131153657127, -15.876986752011259],
         [-69.8247018487661, -15.879174483583132],
         [-69.82749134614158, -15.883921366593253],
         [-69.81624752595116, -15.873890864848113],
         [-69.81290012910057, -15.868318148084407]]),
    Llachal = /* color: #27fffa */ee.Geometry.MultiPoint(
        [[-69.85506480945179, -15.680178340428046],
         [-69.85718334561888, -15.668728877028999],
         [-69.88096406555343, -15.633971856702399],
         [-69.8770158538835, -15.644179520141098],
         [-69.94340089711835, -15.833900178453453],
         [-69.94164147105482, -15.781378895794054],
         [-69.94539656367567, -15.78175057486013],
         [-69.9201304589579, -15.755267122139022],
         [-69.82818501478906, -15.322435845217216],
         [-69.82814209944482, -15.323884485864717],
         [-69.82249873167748, -15.324091433709375]]),
    totoral = /* color: #25ca15 */ee.Geometry.MultiPoint(
        [[-69.8572105766637, -15.679847794058425],
         [-69.85954368955198, -15.668563594643407],
         [-69.87710168457198, -15.646659037634448],
         [-69.94372045638276, -15.833057765148009],
         [-69.94595205428315, -15.833924793809112],
         [-69.83194910512952, -15.320399551615674],
         [-69.83250700460462, -15.322034461252326],
         [-69.9125191967761, -15.330316641704886],
         [-69.81101612074693, -15.785503719396065],
         [-69.8135695837291, -15.786494841888588],
         [-69.78093333727355, -15.86314411997904],
         [-71.86004538741408, -17.15106354051973],
         [-71.86034043040571, -17.15124550865452],
         [-71.85293795771229, -17.154925754325866],
         [-71.8515539378606, -17.15423377559565],
         [-71.8514090985738, -17.15456695086185],
         [-71.85215475267994, -17.15431578802436],
         [-71.85256883429307, -17.156368028803833],
         [-71.85287553416282, -17.157179550464736],
         [-71.85237127886802, -17.15756397730954],
         [-71.86537409862397, -17.144368206181795],
         [-71.84933589512413, -17.161064390287592],
         [-71.8496899467141, -17.16107464146583],
         [-71.85346381479805, -17.158762986435413],
         [-71.85442404562538, -17.15847338682413],
         [-71.85397611671989, -17.158714292727076],
         [-71.85211734587257, -17.159239671537044],
         [-71.85620503241127, -17.157314348598582]]),
    Paztizal_gramadal = /* color: #50ffe3 */ee.Geometry.MultiPoint(
        [[-71.86918586813674, -17.144336722581144],
         [-71.86478704535232, -17.148847592813663],
         [-71.86285585486159, -17.150549392659727],
         [-71.87688446554468, -17.136787866050632],
         [-71.87499619039819, -17.134819371994354],
         [-71.8632373860769, -17.142078090491168],
         [-71.86117744955347, -17.145399782329548],
         [-71.8687305501394, -17.13904340651992],
         [-71.8709621480398, -17.13682887612173],
         [-71.8565268740168, -17.150231251552118],
         [-71.8559689745417, -17.15116416090482],
         [-71.85720279068855, -17.151451208993297],
         [-71.85684873909858, -17.152747445036148],
         [-71.85845806450752, -17.15250140556256],
         [-71.86664416642097, -17.138083411447628],
         [-71.86755611748603, -17.13697614382685],
         [-71.86932637543586, -17.135151188349333],
         [-71.86485596507865, -17.140011017208423],
         [-71.85506053775626, -17.149801744869524],
         [-71.8547064861663, -17.14959670874429],
         [-71.85503908008414, -17.14893546569786],
         [-71.85558625072318, -17.14926865047297],
         [-71.86458016475557, -17.14423955228726],
         [-71.86527753909944, -17.144170350547586],
         [-71.86199503043933, -17.15131258762487],
         [-71.88684959706204, -17.125766750236888],
         [-71.88707490261929, -17.125228460300423],
         [-71.88643117245572, -17.126099976559505],
         [-71.88475501200608, -17.128101674784535],
         [-71.88322078844956, -17.129660123955905]]),
    Agricultura = /* color: #ffb704 */ee.Geometry.MultiPoint(
        [[-71.85592605919746, -17.14826814986056],
         [-71.8573208078852, -17.149477868382412],
         [-71.85696675629524, -17.14781706636054],
         [-71.85677363724616, -17.147437745296447],
         [-71.85180970043021, -17.151928981307584],
         [-71.8524212440856, -17.151421522298726],
         [-71.8529415926345, -17.150955068854977],
         [-71.8532849153884, -17.150580880080387],
         [-71.85381599277335, -17.149791493068633],
         [-71.85393400997, -17.14996064771085],
         [-71.8542022308715, -17.1504783624763],
         [-71.85437925666648, -17.1493147837024]]),
    juncos = /* color: #d40dff */ee.Geometry.MultiPoint(
        [[-71.85360124212545, -17.15783262819501],
         [-71.86164397159834, -17.15050257154755],
         [-71.86126578012724, -17.150961337325924],
         [-71.86272490183134, -17.14961579202514],
         [-71.86389805445928, -17.1487792859419],
         [-71.8644774116065, -17.14839227793476],
         [-71.86689441987497, -17.14620224986744],
         [-71.86633160252813, -17.14289290237219],
         [-71.87268843789343, -17.139709572584557],
         [-71.87176039357428, -17.13965318460871],
         [-71.88715078214125, -17.123541022335342]]),
    Acuicultura = /* color: #ffba0b */ee.Geometry.MultiPoint(
        [[-80.31205009897337, -3.409130110850218],
         [-80.31325172861204, -3.4078877674557284],
         [-80.31505417307005, -3.413028488322435],
         [-80.3139812894641, -3.414399342576177],
         [-80.31492542703734, -3.4172267232934024]]),
    Agua = /* color: #0054ff */ee.Geometry.MultiPoint(
        [[-80.29120512354885, -3.429808669644397],
         [-80.28747148860012, -3.432164782915389],
         [-80.2910334621719, -3.4305369234574727],
         [-80.28549738276516, -3.432164782915389],
         [-75.5166364874347, -11.019181506533098],
         [-75.51613759655793, -11.019950270805207],
         [-75.51668476719696, -11.02074536050779]]),
    Bosque_Plantado_Manglar = /* color: #07f9ff */ee.Geometry.MultiPoint(
        [[-80.28771062058553, -3.439498437489128],
         [-80.28710980576619, -3.4400446223566257],
         [-80.28693814438924, -3.439198571154302],
         [-80.28669138115987, -3.4400553318607074],
         [-80.28728146714315, -3.4394234709142606],
         [-80.28648753327474, -3.4394234709142606],
         [-80.30940334651228, -3.419373674227866],
         [-80.3075150713658, -3.417702954003663],
         [-80.30996124598738, -3.4167390756276843],
         [-80.31006853434798, -3.418988123665205],
         [-80.2875124007655, -3.4398561027472647],
         [-80.30952600849653, -3.418210558433572],
         [-80.30975993222083, -3.4181462999392966],
         [-80.30975993222083, -3.4181462999392966],
         [-80.30975993222083, -3.4181462999392966],
         [-80.30975993222083, -3.4181462999392966],
         [-80.30975993222083, -3.4181462999392966]]),
    Bancos_arena = /* color: #c3cac7 */ee.Geometry.MultiPoint(
        [[-80.30053748972853, -3.4103618872664456],
         [-80.29298438914259, -3.4130607622035734]]),
    Suelo_hipersalina = /* color: #ff48f5 */ee.Geometry.MultiPoint(
        [[-80.31932896683082, -3.4617954726055156],
         [-80.3185672194706, -3.461131498316402],
         [-80.24838405120455, -3.433241590348664],
         [-80.25649505126559, -3.4375682510661587],
         [-80.25743918883883, -3.434441062611426],
         [-80.25804000365817, -3.4331987520256937],
         [-80.26550727355563, -3.4302857415575936],
         [-80.26207404601656, -3.429643164523672]]),
    pastizal = /* color: #fff312 */ee.Geometry.MultiPoint(
        [[-74.98268407183009, -11.335630306180631],
         [-74.98279136019069, -11.335717092409928],
         [-74.99674345549633, -11.334689293605397],
         [-74.99704118069698, -11.334292179215675],
         [-74.9970626383691, -11.334544649355133],
         [-74.99773676032976, -11.3332010076162],
         [-74.99790305728868, -11.3333745815236],
         [-75.09896380732023, -11.221318937799406],
         [-75.1003800136801, -11.220413895522007],
         [-75.10286910364592, -11.218119705880774]]),
    manglar = /* color: #c21dff */ee.Geometry.MultiPoint(
        [[-80.30463389210531, -3.4041824338301407],
         [-80.30486992649863, -3.4047607685257453],
         [-80.30497721485922, -3.4052641336262903],
         [-80.30534199528525, -3.4039789456139022],
         [-80.30402234844992, -3.4042681130662107],
         [-80.30420473866293, -3.4048999971969045],
         [-80.30495805282061, -3.403160380048404],
         [-80.30508679885332, -3.4033745783515545],
         [-80.30455035705035, -3.4033317386947357],
         [-80.30540866393511, -3.405259521365592]]),
    Tilansial = /* color: #d617ff */ee.Geometry.MultiPoint(
        [[-75.15179203404965, -15.107771893192123],
         [-75.16106174840512, -15.109097715401548],
         [-75.22989796056332, -15.097496490291562],
         [-75.21736668004574, -15.1037943768716],
         [-75.20571137002543, -15.111470932486446]]),
    agricultura = /* color: #ff7c00 */ee.Geometry.MultiPoint(
        [[-75.41261512170533, -14.931179104876952],
         [-75.28965851343689, -14.710730089471307],
         [-75.29240509546814, -14.710626317975631],
         [-75.29661079920349, -14.709215020735629]]),
    dunas = /* color: #f6ff1f */ee.Geometry.MultiPoint(
        [[-75.56730291522256, -14.869771663093454],
         [-75.56833288348427, -14.870269400657754],
         [-75.56386968768349, -14.866785213599464],
         [-75.56279680407754, -14.863715764114536],
         [-75.56035062945595, -14.86599711586934],
         [-75.56957742846718, -14.86881766288624]]),
    Pajonal = /* color: #ced605 */ee.Geometry.MultiPoint(
        [[-78.77429514200881, -6.263516283869062],
         [-78.77187042505935, -6.264198830088502],
         [-78.77244978220656, -6.2685500412521336],
         [-78.77487449915603, -6.270171071426371],
         [-78.76839428217605, -6.269659167705157],
         [-78.77706318171218, -6.283715008053596],
         [-78.78049640925124, -6.290369537567836],
         [-78.7729433086653, -6.289516397517477]]),
    Pasto_cultivado = /* color: #ff1fde */ee.Geometry.MultiPoint(
        [[-78.7544610767828, -6.224733954436759],
         [-78.76036193661557, -6.226504437984504],
         [-78.75630643658505, -6.227976281209563],
         [-78.76270082287655, -6.223731388817596],
         [-78.76373079113827, -6.223902038419794],
         [-78.76360204510556, -6.221320957266299],
         [-78.76044776730404, -6.226909728559519],
         [-78.74779303205311, -6.290271375762517]]),
    Cultivo_papa = /* color: #d65a0a */ee.Geometry.MultiPoint(
        [[-75.56878118370987, -11.03523764148313],
         [-75.56897430275895, -11.035490372320888],
         [-75.55057434693161, -11.031973812355488],
         [-75.54941831484619, -11.031484140299805],
         [-75.54773388758484, -11.031020793947489],
         [-75.54684875860993, -11.031257732514371],
         [-75.54739592924896, -11.031226140716495],
         [-75.54531989947144, -11.030783855189608],
         [-75.54490683928314, -11.03066801839401],
         [-75.54525016203705, -11.030820712342267],
         [-75.54565249338928, -11.031705282619535],
         [-75.54458497420136, -11.031052385767442],
         [-75.54467616930786, -11.031378834374786],
         [-75.54431138888184, -11.03177899668913],
         [-75.54577587500397, -11.03062589591156],
         [-75.54255611743588, -11.031378834374786],
         [-75.53990921101855, -11.037700662821798],
         [-75.53971609196948, -11.038711576392007],
         [-75.54864248357104, -11.034772134616942],
         [-75.54974755368518, -11.034408833081175],
         [-75.54887315354632, -11.03351374042412],
         [-75.54774662576007, -11.034693156060424],
         [-75.54359321556616, -11.033497116589121],
         [-75.54331426582861, -11.033170670334828]]),
    Bofedales = /* color: #98ff00 */ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Point",
          "coordinates": [
            -75.5676868424318,
            -11.03018103630998
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.96004988524436,
            -11.432351080294755
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95816161009787,
            -11.431635993454769
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9660365757656,
            -11.433255452243055
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9472468826434,
            -11.41078105294752
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94717178079098,
            -11.413504883182316
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94633493157833,
            -11.412295463717538
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94783696862667,
            -11.412085129371519
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94487798687777,
            -11.407471264443558
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94632637974581,
            -11.407534365789205
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95390821432113,
            -11.390059149902083
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95366081953202,
            -11.390404371032643
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.94863972425614,
            -11.387228061129965
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95078880578666,
            -11.388832377957415
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95915749056597,
            -11.392956460676007
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95762326700945,
            -11.39209928889259
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.96020891649981,
            -11.392919649670931
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.95657184107561,
            -11.390113369715442
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9649160408818,
            -11.394848854114652
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.96584944961899,
            -11.395448342964855
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.96702962158554,
            -11.395564033650059
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.96717982529037,
            -11.396310763303676
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9645190739476,
            -11.395458860301806
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97252773002148,
            -11.370156399995246
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97162650779248,
            -11.370514021014447
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9726028318739,
            -11.371429108049123
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97165869430066,
            -11.371997091626744
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -74.97547302600779,
                -11.37366577802756
              ],
              [
                -74.97523699161448,
                -11.373350233583823
              ],
              [
                -74.97506533023753,
                -11.37231945263161
              ],
              [
                -74.97437868472971,
                -11.372550852761886
              ],
              [
                -74.97440014240183,
                -11.371456959580943
              ],
              [
                -74.9743572270576,
                -11.37103623031598
              ],
              [
                -74.97474346515574,
                -11.370615500429702
              ],
              [
                -74.97431431171336,
                -11.370026477545139
              ],
              [
                -74.97367058154978,
                -11.370405135253575
              ],
              [
                -74.97328434345164,
                -11.370110623746054
              ],
              [
                -74.97283373233714,
                -11.370447208301224
              ],
              [
                -74.9718895947639,
                -11.37032098913963
              ],
              [
                -74.97163210269846,
                -11.371015193836422
              ],
              [
                -74.97195396778025,
                -11.371372813777647
              ],
              [
                -74.97197542545237,
                -11.371730433269969
              ],
              [
                -74.9718895947639,
                -11.372361525396544
              ],
              [
                -74.97203979846873,
                -11.37305572512096
              ],
              [
                -74.9725762402717,
                -11.37341334250054
              ],
              [
                -74.97231874820628,
                -11.373876140795854
              ],
              [
                -74.97180376407542,
                -11.373876140795854
              ],
              [
                -74.97109566089549,
                -11.373644741742183
              ],
              [
                -74.97085962650218,
                -11.373308160964916
              ],
              [
                -74.97081671115794,
                -11.372677070935547
              ],
              [
                -74.97051630374827,
                -11.371562141800093
              ],
              [
                -74.97105274555125,
                -11.370447208301224
              ],
              [
                -74.9716750180427,
                -11.369816111934115
              ],
              [
                -74.97315559741892,
                -11.369269160618588
              ],
              [
                -74.97474346515574,
                -11.368932574671812
              ],
              [
                -74.97620258685984,
                -11.369058794448446
              ],
              [
                -74.97680340167918,
                -11.369437453442883
              ],
              [
                -74.97714672443308,
                -11.37032098913963
              ],
              [
                -74.97693214771189,
                -11.371541105359364
              ],
              [
                -74.97684631702342,
                -11.372214270692066
              ],
              [
                -74.97663174030222,
                -11.372719143647672
              ],
              [
                -74.97607384082713,
                -11.373686814311386
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9853642966466,
            -11.379643004657686
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9850424315648,
            -11.379905952574154
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98563251754808,
            -11.380011131672747
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98640499374437,
            -11.37992698839699
          ]
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -74.98627624771166,
                -11.380095274923635
              ],
              [
                -74.98584709426927,
                -11.380126828636293
              ],
              [
                -74.98562178871202,
                -11.380379258211732
              ],
              [
                -74.98522482177782,
                -11.380431847678448
              ],
              [
                -74.98502097389269,
                -11.380305632942026
              ],
              [
                -74.9848600413518,
                -11.380053203301296
              ],
              [
                -74.98465619346666,
                -11.379969060037965
              ],
              [
                -74.98458109161425,
                -11.379758701770855
              ],
              [
                -74.98473129531908,
                -11.379422128220153
              ],
              [
                -74.98461327812242,
                -11.379148661917213
              ],
              [
                -74.98452744743395,
                -11.378896231250577
              ],
              [
                -74.98454890510607,
                -11.378696390147411
              ],
              [
                -74.9848600413518,
                -11.378654318318347
              ],
              [
                -74.98508534690905,
                -11.37879105174009
              ],
              [
                -74.98508534690905,
                -11.378969856884801
              ],
              [
                -74.985257008286,
                -11.379106590154981
              ],
              [
                -74.98561105987596,
                -11.37905400044345
              ],
              [
                -74.98580417892504,
                -11.378969856884801
              ],
              [
                -74.98627624771166,
                -11.379211769548897
              ],
              [
                -74.98674831649828,
                -11.379380056498352
              ],
              [
                -74.98698435089159,
                -11.379359020635096
              ],
              [
                -74.98715601226854,
                -11.379401092360027
              ],
              [
                -74.98730621597338,
                -11.379506271645141
              ],
              [
                -74.98710236808824,
                -11.379706112179793
              ],
              [
                -74.98699507972765,
                -11.379874398837005
              ],
              [
                -74.98668394348192,
                -11.379632486735982
              ],
              [
                -74.9865551974492,
                -11.37995854212831
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00357445339411,
            -11.374060086583224
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.0024371967718,
            -11.373849723950793
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00376757244318,
            -11.372987235533481
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00290926555842,
            -11.37199852608628
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00411089519709,
            -11.372387669350804
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.0033384190008,
            -11.371945905049529
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9833850827192,
            -11.33540010972991
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98323124246913,
            -11.335272641442414
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9833707173379,
            -11.335635565952847
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9831185896905,
            -11.335504071618246
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9842343886407,
            -11.334615168329622
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98461526232082,
            -11.334246982725894
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98612017859482,
            -11.332578146047315
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98579831351303,
            -11.333409197731665
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98378129233383,
            -11.332614964843959
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98154022503434,
            -11.331894360191102
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98210080671845,
            -11.331573509709338
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97879475427177,
            -11.335054051435527
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97921854329613,
            -11.334628008705103
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97460554906343,
            -11.33642491810945
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97487913438295,
            -11.336530113243041
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97433732816194,
            -11.336761542400623
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97348975011323,
            -11.336961412885907
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97720182563768,
            -11.337829358592195
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.97649908687578,
            -11.338221208342484
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98701090049259,
            -11.327833819222912
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.98738640975468,
            -11.32881630132562
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99124874808557,
            -11.332718592780871
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99300291278131,
            -11.331802862581986
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99587824084527,
            -11.33546368965843
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9969177990823,
            -11.333921363294063
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99722088870098,
            -11.334052858356774
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9972959905534,
            -11.334192243057204
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00097005785055,
            -11.335042305710317
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.00299716529358,
            -11.316512412001734
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -75.0083773848148,
            -11.32068401103102
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99318389851294,
            -11.328686452912605
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99355940777502,
            -11.326035451017187
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.99244911309611,
            -11.322443200556071
          ]
        },
        {
          "type": "Point",
          "coordinates": [
            -74.9924812996043,
            -11.322064479238959
          ]
        }
      ],
      "coordinates": []
    }),
    arbustos = /* color: #d6a119 */ee.Geometry.MultiPoint(
        [[-74.99032788602446, -11.316077124863812],
         [-74.98990946141814, -11.316624178048373],
         [-74.98857908574675, -11.317686720669997],
         [-74.99333196012114, -11.31619284774002],
         [-74.9913793119583, -11.319485669979029],
         [-74.99362718345611, -11.32256209131179],
         [-74.99326240303009, -11.321878288853261]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var punto = ee.Geometry.Point([-76.1,-13.9, ])
Map.addLayer(punto)

// remap
var param = {
    code_region: 102,  //Region de Clasificacion
    mes: [1,3,6,9,11],  // Solo visualizacion
    version_input:'14', // 
    version_output:'15',// 
    remapGeometry: [
      // urbana_a_suelo, 
      // C10_suelo_a_c17_nodata, 
      // c2mineria_a_c10_poca_veg, 
      // agua_a_suelo, 
      // Agua_Acuicultura, 
      // c17_sin_data_a_c15_agua,
      // no_data_agua_a_mar,
      // c3_c9,
      // c11_a_c13,
      // c11_a_c15,
      // c11_a_c10,
      // c11_a_c3,
      // c3_c8_a_c11
      ]
};

var assetClasif = "projects/ee-anp-lineabase/assets/clasificacion";
var assetFiltros = "projects/ee-anp-lineabase/assets/clasificacion-post"
var dirout  = "projects/ee-anp-lineabase/assets/clasificacion-post"
var regionesclass = 'projects/ee-eturpocayo/assets/sernanp/AUXILIAR_DATA/limite_anp_y_za_v2'
var AssetRegionsRaster = 'projects/ee-eturpocayo/assets/sernanp/AUXILIAR_DATA/limite_anp_y_za_v2_raster';

  var version_input = param.version_input;
  var version_output = param.version_output;
  var prefixo_out = 'ANP'+ '-' + param.code_region + '-' 

////*************************************************************
// Do not Change from these lines
////*************************************************************
var cloud_Blue_thr = 1600;
var palette_0_18 = ["ffffff", "ff0000","b40b0b","cf1cd6","5bdd4a","139b01","17ff7e","0f5e00","f3ff73",
                    "ceb747","f8b3ff","d72fff","00ff00","ccebc5","13f5ff","0000ff","3b8aff","d4d4d4", "ff7b06" ];

var vis = {
    'min': 0,
    'max': 18,
    'palette': palette_0_18
};

var RGB = {bands: ['R', 'N', 'B'], gain: [0.2, 0.06, 0.2]}; // ANDES
// var RGB = {bands: ['R', 'G', 'B'], min:630, max:2950}; //COSTA

var region = ee.FeatureCollection(regionesclass)
                .filterMetadata("Codigo_uni","equals", param.code_region);
var regionRaster = ee.Image(AssetRegionsRaster).eq(param.code_region).selfMask()

Map.addLayer(region,{},'region')
Map.centerObject(region)


var Mapbiomas = ee.Image('projects/mapbiomas-public/assets/peru/collection2/mapbiomas_peru_collection2_integration_v1')
                  .select('classification_2021');

var mosaic = ee.ImageCollection('projects/ee-anp-lineabase/assets/mosaics')
                    .filterBounds(region.geometry().bounds())
                    .map(function(image){
                        var Mapbiomas = ee.Image('projects/mapbiomas-public/assets/peru/collection2/mapbiomas_peru_collection2_integration_v1')
                                          .select('classification_2021')
                        // image = image.updateMask(image.select('B').lte(cloud_Blue_thr).or(Mapbiomas.eq(34).unmask(regionRaster)))
                        
                        var ndvi = image.normalizedDifference(['N', 'R']).rename('NDVI');
                        var ndwi = image.normalizedDifference(['G', 'N']).rename('NDWI');
                        
                        return image.addBands(ndvi)
                                    .addBands(ndwi)
                    })
                    
var image_FE = ee.ImageCollection(assetFiltros)
               .filterMetadata('code_region', 'equals', param.code_region)
               .filterMetadata('version', 'equals', version_input)
               .first()

print(image_FE);

//-----
var years = [
    1,2,3,
    4,5,6,
    7,8,9,
    10,11,12
    ];

// get band names list 
var bandNames = ee.List(
    years.map(
        function (year) {
            return 'clasificacion_' + String(year);
        }
    )
);

// generate a histogram dictionary of [bandNames, image.bandNames()]
var bandsOccurrence = ee.Dictionary(
    bandNames.cat(image_FE.bandNames()).reduce(ee.Reducer.frequencyHistogram())
);

// print(bandsOccurrence);

// insert a masked band 
var bandsDictionary = bandsOccurrence.map(
    function (key, value) {
        return ee.Image(
            ee.Algorithms.If(
                ee.Number(value).eq(2),
                image_FE.select([key]).byte(),
                ee.Image().rename([key]).byte().updateMask(image_FE.select(0))
            )
        );
    }
);
// convert dictionary to image
var imageAllBands = ee.Image(
    bandNames.iterate(
        function (band, image) {
            return ee.Image(image).addBands(bandsDictionary.get(ee.String(band)));
        },
        ee.Image().select()
    )
);

image_FE = imageAllBands
var filtered = image_FE;



/**
 * Función para remapear, de manera interactiva, zonas delimitadas por polígonos
 * Estos polígonos se dibujan con las herramientas de dibujo de GEE
 * y se definen como ee.FeatureCollection()
 */
function remapWithPolygons(imageYear, polygons, years) {
  
  if(polygons.length > 0) {  
    polygons.forEach(function( polygon ) {
      var excluded = polygon.map(function( layer ){
        
        var area = imageYear.clip(layer);
        var from = ee.String(layer.get('original')).split(',');
        var to = ee.String(layer.get('new')).split(',');
        
        var t0 = ee.Number.parse(layer.get('t0'));
        var t1 = ee.Number.parse(layer.get('t1'));
        var yearsSel = ee.List.sequence(t0,t1,1)

        from = from.map( function( item ){
          return ee.Number.parse( item );
        });
        to = to.map(function(item){
          return ee.Number.parse( item );
        });
        
        var remapRY = area;

        var imageOperation = function(year, previousImage) {
          var remapYear = area.select(ee.String('clasificacion_').cat(ee.Number(year).toInt16()))
                              .remap(from, to)
                              .rename(ee.String('clasificacion_').cat(ee.Number(year).toInt16()));
          
          return ee.Image(previousImage).addBands(remapYear, null, true);
        };
        
        remapRY = ee.Image(yearsSel.iterate(imageOperation, remapRY));
        
        return remapRY;
      });
      print('excluded',excluded);
      excluded = ee.ImageCollection( excluded ).mosaic();
      // Map.addLayer(excluded);
      
      imageYear = excluded.unmask( imageYear );
      imageYear = imageYear.mask( imageYear.neq(27) );
    });
  } else imageYear = imageYear;
  
  return imageYear;
  
}

// Exclusión de clases en areas delimitadas con geometrías
  var polygons = param.remapGeometry;
  filtered = remapWithPolygons(filtered, polygons, years);



filtered =filtered.select(bandNames)
                    .updateMask(regionRaster);

//----

// Geometrias_colectadas_assets
  var folder = 'projects/ee-anp-lineabase/assets/AUXILIAR-DATA/geometry';
  var list = ee.List([]);
  
  function list_folder_to_featColl(e) {
    var path = e.id;
    var fc = ee.FeatureCollection(path)
              // .aggregate_sum('system:asset_size')
              // .divide(ee.Number(1024).pow(4))
    return fc; 
  }
  
  // Function to recursively concatenate asset lists from multiple pages
  function listAssetsRecursive(folder, pageToken) {
    var options = {};
    if (pageToken !== undefined) {
      options.pageToken = pageToken;
    }
  
    var result = ee.data.listAssets(folder, options);
    var assets = result['assets'];
    list = list.cat(assets.map(list_folder_to_featColl));
  
    if (result.nextPageToken !== null) {
      // Call the function recursively for the next page
      listAssetsRecursive(folder, result.nextPageToken);
    }
  }
  
  // Start listing assets
  listAssetsRecursive(folder);
  
  // Print the final concatenated asset list
  // print('Final Asset List:', list);
  
  var geometry_draw = ee.FeatureCollection(list).flatten();
  
  print(geometry_draw)
  

// GEOMETRIAS CLASE COLL
  var Samples_Collect_raster = geometry_draw
                              .reduceToImage(['clase'], ee.Reducer.first())
                              .updateMask(regionRaster)
                              .rename('clase');
  Map.addLayer(Samples_Collect_raster, {min: 0, max: 18, palette: palette_0_18}, 'Samples_Collect_raster');
  
  var masks_class = regionRaster.multiply(0).add(99).where(Samples_Collect_raster.eq(1),1)
                                                            .where(Samples_Collect_raster.eq(2),2)
                                                            // .where(Mapbiomas.eq(4),4)
                                                            .rename('mask')
                                                            
                                                            
                                                            
  // filtered = filtered.where(filtered.eq(2).and(masks_class.neq(2)),10)
                    // .where(filtered.eq(1).and(masks_class.neq(1)),10)
                    // .where(filtered.eq(11).and(masks_class.eq(1)),1)
                    // .where(filtered.eq(10).and(masks_class.eq(1)),1)

Map.addLayer(image_FE.reduce('mode'), {
    'min': 0,
    'max': 18,
    'palette': palette_0_18
}, 'mode',false);

for (var mesI=0;mesI<param.mes.length;mesI++) {

var vis = {
    'bands': 'clasificacion_'+param.mes[mesI],
    'min': 0,
    'max': 18,
    'palette': palette_0_18
};
Map.addLayer(mosaic.filter(ee.Filter.eq('month', param.mes[mesI])).mosaic().updateMask(regionRaster), RGB, 'mosaic-'+param.mes[mesI], false);

  
Map.addLayer(image_FE, vis, 'original'+param.mes[mesI],false);

Map.addLayer(filtered, vis, 'filtered'+param.mes[mesI],false);
}

Map.addLayer(filtered.reduce('mode'), {
    'min': 0,
    'max': 18,
    'palette': palette_0_18
}, 'mode_ft',true);

filtered = filtered
          .set('code_region', param.code_region)
          .set('version', version_output)
          .set('descripcion', 'filtro reclas')

print(filtered)
          
// EXPORTS 
  Export.image.toAsset({
      'image': filtered,
      'description': prefixo_out+version_output,
      'assetId': dirout+'/' +prefixo_out+version_output,
      'pyramidingPolicy': {
          '.default': 'mode'
      },
      'region': region.geometry().bounds(),
      'scale': 4.7,
      'maxPixels': 1e13
  });
  




// Mapas referencia remap

    // Mapeo de clases Mapbiomas
    //   3: 'Bosque',
    //   4: 'Bosque seco',
    //   5: 'Manglar',
    //   6: 'Bosque inundable',
    //   9: 'Plantación forestal',
    //   11: 'Zona pantanosa o pastizal inundable',
    //   12: 'Pastizal / herbazal',
    //   13: 'Matorral y otras formaciones no boscosas',
    //   15: 'Pasto',
    //   18: 'Agricultura',
    //   21: 'Mosaico agropecuario',
    //   24: 'Infraestructura',
    //   25: 'Otra área sin vegetación',
    //   27: 'No observado',
    //   30: 'Minería',
    //   31: 'Acuicultura',
    //   32: 'Salina',
    //   33: 'Río, lago u océano',
    //   34: 'Glaciar',
    //   35: 'Palma aceitera'
      
  var remap_MB = {
      from: [3, 4, 5, 6, 9, 11, 12, 13, 15, 18, 21, 24, 25, 30, 31, 32, 33, 34],
      to:   [5, 4, 6, 5, 7, 12,  8,  9,  8,  3,  3,  1, 10,  2, 15, 10, 15, 14]
    }

  // Mapeo de clases WorldCover
  //   10: 'Bosque',
  //   20: 'Matorrales',
  //   30: 'Pastizales',
  //   40: 'Tierras de cultivo',
  //   50: 'Construcciones',
  //   60: 'Escasa vegetación',
  //   70: 'Nieve y hielo',
  //   80: 'Cuerpos de agua permanentes',
  //   90: 'Humedales herbáceos',
  //   95: 'Manglares',
  //   100: 'Musgo y líquenes'

  var remap_WC = {
      from: [10, 20, 30, 40, 50, 60, 70, 80, 90, 95, 100],
      to:   [ 7,  9,  8,  3,  1, 10, 14, 15, 12,  6,  17]
    }
    
  var Mapbiomas = ee.Image('projects/mapbiomas-public/assets/peru/collection2/mapbiomas_peru_collection2_integration_v1')
                    .select('classification_2021')
                    .remap(remap_MB.from, remap_MB.to)
                    .updateMask(regionRaster);
                    
  var WorldCover = ee.ImageCollection('ESA/WorldCover/v200').first()
                    .remap(remap_WC.from, remap_WC.to)
                    .updateMask(regionRaster);
  
// var updtReference = ee.Image(WorldCover.updateMask(Mapbiomas.eq(WorldCover))).updateMask(regionRaster)
  
Map.addLayer(Mapbiomas.selfMask(),{min: 0, max: 18, palette: palette_0_18},'Mapbiomas', false)
Map.addLayer(WorldCover.selfMask(),{min: 0, max: 18, palette: palette_0_18},'WorldCover', false)

var tillandsia = ee.Image('users/gistin/fog_oasis/tillandsia')
Map.addLayer(tillandsia,{palette:'#b30adb'},'tillandsia', false)

var fo_class2021 = ee.Image('users/gistin/fog_oasis/fo_class2021')
Map.addLayer(fo_class2021,{"min":1,"max":6,"palette":["ff0000","ffa906","ffee06","89ff0c","27ff02","30df2f"]},'fo_class2021', false)










function Legend() {
  
  var legendColors = [
          {color: palette_0_18[1], label:'c1_area_urbana y carret'},
          {color: palette_0_18[2], label:'c2_mineria'},
          {color: palette_0_18[3], label:'c3_agricultura'},
          {color: palette_0_18[4], label:'c4_bosque_seco'},
          {color: palette_0_18[5], label:'c5_bosque'},
          {color: palette_0_18[6], label:'c6_manglar'},
          {color: palette_0_18[7], label:'c7_bosque_plantado'},
          {color: palette_0_18[8], label:'c8_pastizales'},
          {color: palette_0_18[9], label:'c9_arbustal_matorral'},
          {color: palette_0_18[10], label:'c10_poca_vegetacion'},
          {color: palette_0_18[11], label:'c11_totoral'},
          {color: palette_0_18[12], label:'c12_bofedal'},
          {color: palette_0_18[13], label:'c13_areas_humedas_costeras'},
          {color: palette_0_18[14], label:'c14_glaciar'},
          {color: palette_0_18[15], label:'c15_Agua'},
          {color: palette_0_18[16], label:'c16_aguas_maritima'},
          {color: palette_0_18[17], label:'c17_sin_dato'},
          {color: palette_0_18[18], label:'c18_Acuicultura'}
  ];

  // Crear un panel para la leyenda
  var legendPanel = ui.Panel({
    style: {
      position: 'bottom-left',
      padding: '8px 15px'
    }
  });

  // Crear un título para la leyenda
  var legendTitle = ui.Label({
    value: 'Leyenda general',
    style: {fontWeight: 'bold', fontSize: '16px', margin: '0 0 4px 0'}
  });

  legendPanel.add(legendTitle);

  // Crear un panel de cuadrícula para organizar en columnas
  var gridPanel = ui.Panel({
    layout: ui.Panel.Layout.Flow('horizontal'),
    style: {stretch: 'horizontal'}
  });

  // Número de columnas deseadas
  var columns = 2;

  // Crear un array de columnas como paneles
  var columnPanels = [];
  for (var i = 0; i < columns; i++) {
    columnPanels.push(ui.Panel({
      layout: ui.Panel.Layout.Flow('vertical'),
      style: {padding: '0 10px'}
    }));
  }

  // Añadir elementos a las columnas alternando entre ellas
  legendColors.forEach(function(item, index) {
    var colorBox = ui.Label('', {
      backgroundColor: item.color,
      padding: '6px',
      margin: '0 0 4px 0'
    });

    var description = ui.Label(item.label, {
      margin: '0 0 4px 6px'
    });

    var legendItem = ui.Panel({
      widgets: [colorBox, description],
      layout: ui.Panel.Layout.Flow('horizontal')
    });

    // Añadir a la columna correspondiente
    columnPanels[index % columns].add(legendItem);
  });

  // Añadir todas las columnas al panel de cuadrícula
  columnPanels.forEach(function(panel) {
    gridPanel.add(panel);
  });

  // Añadir el panel de cuadrícula a la leyenda
  legendPanel.add(gridPanel);

  return legendPanel;
}

var legend_MB = Legend();
Map.add(legend_MB);  // Añadir la leyenda al mapa
Map.addLayer(table.style({color: 'black', fillColor:'00000000'}), {},'anp')
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         